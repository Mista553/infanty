ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"xmmotor.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "modules/motor/XMmotor/xmmotor.c"
  20              		.section	.text.uint16_to_float,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	uint16_to_float:
  27              	.LVL0:
  28              	.LFB277:
   1:modules/motor/XMmotor/xmmotor.c **** #include "xmmotor.h"
   2:modules/motor/XMmotor/xmmotor.c **** #include "memory.h"
   3:modules/motor/XMmotor/xmmotor.c **** #include "general_def.h"
   4:modules/motor/XMmotor/xmmotor.c **** #include "user_lib.h"
   5:modules/motor/XMmotor/xmmotor.c **** #include "cmsis_os.h"
   6:modules/motor/XMmotor/xmmotor.c **** #include "string.h"
   7:modules/motor/XMmotor/xmmotor.c **** #include "daemon.h"
   8:modules/motor/XMmotor/xmmotor.c **** #include "stdlib.h"
   9:modules/motor/XMmotor/xmmotor.c **** #include "bsp_log.h"
  10:modules/motor/XMmotor/xmmotor.c **** 
  11:modules/motor/XMmotor/xmmotor.c **** static uint8_t idx;
  12:modules/motor/XMmotor/xmmotor.c **** static XMMotorInstance *xm_motor_instance[XM_MOTOR_CNT];
  13:modules/motor/XMmotor/xmmotor.c **** static osThreadId xm_task_handle[XM_MOTOR_CNT];
  14:modules/motor/XMmotor/xmmotor.c **** /* ‰∏§‰∏™Áî®‰∫éÂ∞ÜuintÂÄºÂíåfloatÂÄºËøõË°åÊò†Â∞ÑÁöÑÂáΩÊï∞,Âú®ËÆæÂÆöÂèëÈÄÅÂÄºÂíåËß£ÊûêÂèçÈ¶àÂÄºÊó∂‰Ω
  15:modules/motor/XMmotor/xmmotor.c **** static uint16_t float_to_uint(float x, float x_min, float x_max, uint8_t bits)
  16:modules/motor/XMmotor/xmmotor.c **** {
  17:modules/motor/XMmotor/xmmotor.c ****     float span = x_max - x_min;
  18:modules/motor/XMmotor/xmmotor.c ****     float offset = x_min;
  19:modules/motor/XMmotor/xmmotor.c ****     return (uint16_t)((x - offset) * ((float)((1 << bits) - 1)) / span);
  20:modules/motor/XMmotor/xmmotor.c **** }
  21:modules/motor/XMmotor/xmmotor.c **** static float uint16_to_float(uint16_t x_int, float x_min, float x_max, int bits)
  22:modules/motor/XMmotor/xmmotor.c **** {
  29              		.loc 1 22 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              		.loc 1 22 1 is_stmt 0 view .LVU1
  35 0000 07EE900A 		vmov	s15, r0	@ int
  23:modules/motor/XMmotor/xmmotor.c ****     uint32_t span = (1 << bits) - 1;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 2


  36              		.loc 1 23 5 is_stmt 1 view .LVU2
  37              		.loc 1 23 24 is_stmt 0 view .LVU3
  38 0004 0123     		movs	r3, #1
  39 0006 8B40     		lsls	r3, r3, r1
  40              		.loc 1 23 33 view .LVU4
  41 0008 013B     		subs	r3, r3, #1
  42              	.LVL1:
  24:modules/motor/XMmotor/xmmotor.c ****     float offset = x_max - x_min;
  43              		.loc 1 24 5 is_stmt 1 view .LVU5
  44              		.loc 1 24 11 is_stmt 0 view .LVU6
  45 000a 70EEC00A 		vsub.f32	s1, s1, s0
  46              	.LVL2:
  25:modules/motor/XMmotor/xmmotor.c ****     return offset * x_int / span + x_min;
  47              		.loc 1 25 5 is_stmt 1 view .LVU7
  48              		.loc 1 25 19 is_stmt 0 view .LVU8
  49 000e F8EEE77A 		vcvt.f32.s32	s15, s15
  50 0012 27EEA07A 		vmul.f32	s14, s15, s1
  51              		.loc 1 25 27 view .LVU9
  52 0016 07EE903A 		vmov	s15, r3	@ int
  53 001a F8EE677A 		vcvt.f32.u32	s15, s15
  54 001e C7EE276A 		vdiv.f32	s13, s14, s15
  26:modules/motor/XMmotor/xmmotor.c **** }
  55              		.loc 1 26 1 view .LVU10
  56 0022 36EE800A 		vadd.f32	s0, s13, s0
  57              	.LVL3:
  58              		.loc 1 26 1 view .LVU11
  59 0026 7047     		bx	lr
  60              		.cfi_endproc
  61              	.LFE277:
  63              		.section	.text.XMMotorLostCallback,"ax",%progbits
  64              		.align	1
  65              		.syntax unified
  66              		.thumb
  67              		.thumb_func
  69              	XMMotorLostCallback:
  70              	.LVL4:
  71              	.LFB280:
  27:modules/motor/XMmotor/xmmotor.c **** 
  28:modules/motor/XMmotor/xmmotor.c **** static void XMMotorSetMode(XMMotor_Mode_e cmd, XMMotorInstance *motor)
  29:modules/motor/XMmotor/xmmotor.c **** {
  30:modules/motor/XMmotor/xmmotor.c ****     // memset(motor->motor_can_instace->tx_buff, 0, 8);  
  31:modules/motor/XMmotor/xmmotor.c **** 
  32:modules/motor/XMmotor/xmmotor.c ****     if (cmd == XM_CMD_MOTOR_MODE)
  33:modules/motor/XMmotor/xmmotor.c ****     {
  34:modules/motor/XMmotor/xmmotor.c ****         memset(motor->motor_can_instace->tx_buff, 0, 8);  
  35:modules/motor/XMmotor/xmmotor.c ****         // motor->motor_can_instace->txconf.ExtId = 0x03 << 24 | 0x0 << 8 | motor->motor_can_instac
  36:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->txconf.ExtId = 0x0300007f; 
  37:modules/motor/XMmotor/xmmotor.c ****         // motor->motor_can_instace->txconf.ExtId = 0; 
  38:modules/motor/XMmotor/xmmotor.c ****     }
  39:modules/motor/XMmotor/xmmotor.c ****     else if (cmd == XM_CMD_CURRENT_MODE)
  40:modules/motor/XMmotor/xmmotor.c ****     {
  41:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->txconf.ExtId = 0x12 << 24 | 0x0 << 8 | motor->motor_can_instace->
  42:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->txconf.ExtId = 0x1200007f; 
  43:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[0] = (uint8_t)0x05;
  44:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[1] = (uint8_t)0x70;
  45:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[4] = (uint8_t)0x03;
  46:modules/motor/XMmotor/xmmotor.c ****     }
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 3


  47:modules/motor/XMmotor/xmmotor.c **** 
  48:modules/motor/XMmotor/xmmotor.c ****     CANTransmit(motor->motor_can_instace, 1);
  49:modules/motor/XMmotor/xmmotor.c **** }
  50:modules/motor/XMmotor/xmmotor.c **** 
  51:modules/motor/XMmotor/xmmotor.c **** 
  52:modules/motor/XMmotor/xmmotor.c **** static void XMMotorDecode(CANInstance *motor_can)
  53:modules/motor/XMmotor/xmmotor.c **** {
  54:modules/motor/XMmotor/xmmotor.c ****     uint16_t tmp; // Áî®‰∫éÊöÇÂ≠òËß£ÊûêÂÄº,Á®çÂêéËΩ¨Êç¢ÊàêfloatÊï∞ÊçÆ,ÈÅøÂÖçÂ§öÊ¨°ÂàõÂª∫‰∏¥Êó∂ÂèòÈá
  55:modules/motor/XMmotor/xmmotor.c ****     uint8_t *rxbuff = motor_can->rx_buff;
  56:modules/motor/XMmotor/xmmotor.c ****     XMMotorInstance *motor = (XMMotorInstance *)motor_can->id;
  57:modules/motor/XMmotor/xmmotor.c ****     XM_Motor_Measure_s *measure = &(motor->measure); // Â∞ÜcanÂÆû‰æã‰∏≠‰øùÂ≠òÁöÑidËΩ¨Êç¢ÊàêÁîµÊú∫ÂÆ
  58:modules/motor/XMmotor/xmmotor.c **** 
  59:modules/motor/XMmotor/xmmotor.c ****     DaemonReload(motor->motor_daemon);
  60:modules/motor/XMmotor/xmmotor.c **** 
  61:modules/motor/XMmotor/xmmotor.c ****     measure->last_position = measure->position;
  62:modules/motor/XMmotor/xmmotor.c ****     tmp = (uint16_t)(rxbuff[0] << 8 | rxbuff[1]);
  63:modules/motor/XMmotor/xmmotor.c ****     measure->position = uint16_to_float(tmp, XM_P_MIN, XM_P_MAX, 16);
  64:modules/motor/XMmotor/xmmotor.c **** 
  65:modules/motor/XMmotor/xmmotor.c ****     tmp = (uint16_t)(rxbuff[2] << 8 | rxbuff[3]);
  66:modules/motor/XMmotor/xmmotor.c ****     measure->velocity = uint16_to_float(tmp, XM_V_MIN, XM_V_MAX, 16);
  67:modules/motor/XMmotor/xmmotor.c **** 
  68:modules/motor/XMmotor/xmmotor.c ****     tmp = (uint16_t)(rxbuff[4] << 8 | rxbuff[5]);
  69:modules/motor/XMmotor/xmmotor.c ****     measure->torque = uint16_to_float(tmp, XM_T_MIN, XM_T_MAX, 16);
  70:modules/motor/XMmotor/xmmotor.c **** 
  71:modules/motor/XMmotor/xmmotor.c ****     measure->temperature = (float)((rxbuff[6] << 8) | rxbuff[7]) * 0.1;
  72:modules/motor/XMmotor/xmmotor.c **** }
  73:modules/motor/XMmotor/xmmotor.c **** 
  74:modules/motor/XMmotor/xmmotor.c **** static void XMMotorLostCallback(void *motor_ptr)
  75:modules/motor/XMmotor/xmmotor.c **** {
  72              		.loc 1 75 1 is_stmt 1 view -0
  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 0
  75              		@ frame_needed = 0, uses_anonymous_args = 0
  76              		@ link register save eliminated.
  76:modules/motor/XMmotor/xmmotor.c **** }
  77              		.loc 1 76 1 view .LVU13
  78 0000 7047     		bx	lr
  79              		.cfi_endproc
  80              	.LFE280:
  82              		.global	__aeabi_f2d
  83              		.global	__aeabi_dmul
  84              		.global	__aeabi_d2f
  85              		.section	.text.XMMotorDecode,"ax",%progbits
  86              		.align	1
  87              		.syntax unified
  88              		.thumb
  89              		.thumb_func
  91              	XMMotorDecode:
  92              	.LVL5:
  93              	.LFB279:
  53:modules/motor/XMmotor/xmmotor.c ****     uint16_t tmp; // Áî®‰∫éÊöÇÂ≠òËß£ÊûêÂÄº,Á®çÂêéËΩ¨Êç¢ÊàêfloatÊï∞ÊçÆ,ÈÅøÂÖçÂ§öÊ¨°ÂàõÂª∫‰∏¥Êó∂ÂèòÈá
  94              		.loc 1 53 1 view -0
  95              		.cfi_startproc
  96              		@ args = 0, pretend = 0, frame = 0
  97              		@ frame_needed = 0, uses_anonymous_args = 0
  53:modules/motor/XMmotor/xmmotor.c ****     uint16_t tmp; // Áî®‰∫éÊöÇÂ≠òËß£ÊûêÂÄº,Á®çÂêéËΩ¨Êç¢ÊàêfloatÊï∞ÊçÆ,ÈÅøÂÖçÂ§öÊ¨°ÂàõÂª∫‰∏¥Êó∂ÂèòÈá
  98              		.loc 1 53 1 is_stmt 0 view .LVU15
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 4


  99 0000 38B5     		push	{r3, r4, r5, lr}
 100              	.LCFI0:
 101              		.cfi_def_cfa_offset 16
 102              		.cfi_offset 3, -16
 103              		.cfi_offset 4, -12
 104              		.cfi_offset 5, -8
 105              		.cfi_offset 14, -4
 106 0002 0446     		mov	r4, r0
  54:modules/motor/XMmotor/xmmotor.c ****     uint8_t *rxbuff = motor_can->rx_buff;
 107              		.loc 1 54 5 is_stmt 1 view .LVU16
  55:modules/motor/XMmotor/xmmotor.c ****     XMMotorInstance *motor = (XMMotorInstance *)motor_can->id;
 108              		.loc 1 55 5 view .LVU17
 109              	.LVL6:
  56:modules/motor/XMmotor/xmmotor.c ****     XM_Motor_Measure_s *measure = &(motor->measure); // Â∞ÜcanÂÆû‰æã‰∏≠‰øùÂ≠òÁöÑidËΩ¨Êç¢ÊàêÁîµÊú∫ÂÆ
 110              		.loc 1 56 5 view .LVU18
  56:modules/motor/XMmotor/xmmotor.c ****     XM_Motor_Measure_s *measure = &(motor->measure); // Â∞ÜcanÂÆû‰æã‰∏≠‰øùÂ≠òÁöÑidËΩ¨Êç¢ÊàêÁîµÊú∫ÂÆ
 111              		.loc 1 56 22 is_stmt 0 view .LVU19
 112 0004 D0F84150 		ldr	r5, [r0, #65]	@ unaligned
 113              	.LVL7:
  57:modules/motor/XMmotor/xmmotor.c **** 
 114              		.loc 1 57 5 is_stmt 1 view .LVU20
  59:modules/motor/XMmotor/xmmotor.c **** 
 115              		.loc 1 59 5 view .LVU21
 116 0008 D5F8B801 		ldr	r0, [r5, #440]
 117              	.LVL8:
  59:modules/motor/XMmotor/xmmotor.c **** 
 118              		.loc 1 59 5 is_stmt 0 view .LVU22
 119 000c FFF7FEFF 		bl	DaemonReload
 120              	.LVL9:
  61:modules/motor/XMmotor/xmmotor.c ****     tmp = (uint16_t)(rxbuff[0] << 8 | rxbuff[1]);
 121              		.loc 1 61 5 is_stmt 1 view .LVU23
  61:modules/motor/XMmotor/xmmotor.c ****     tmp = (uint16_t)(rxbuff[0] << 8 | rxbuff[1]);
 122              		.loc 1 61 37 is_stmt 0 view .LVU24
 123 0010 EB68     		ldr	r3, [r5, #12]	@ float
  61:modules/motor/XMmotor/xmmotor.c ****     tmp = (uint16_t)(rxbuff[0] << 8 | rxbuff[1]);
 124              		.loc 1 61 28 view .LVU25
 125 0012 AB60     		str	r3, [r5, #8]	@ float
  62:modules/motor/XMmotor/xmmotor.c ****     measure->position = uint16_to_float(tmp, XM_P_MIN, XM_P_MAX, 16);
 126              		.loc 1 62 5 is_stmt 1 view .LVU26
  62:modules/motor/XMmotor/xmmotor.c ****     measure->position = uint16_to_float(tmp, XM_P_MIN, XM_P_MAX, 16);
 127              		.loc 1 62 28 is_stmt 0 view .LVU27
 128 0014 94F82C00 		ldrb	r0, [r4, #44]	@ zero_extendqisi2
  62:modules/motor/XMmotor/xmmotor.c ****     measure->position = uint16_to_float(tmp, XM_P_MIN, XM_P_MAX, 16);
 129              		.loc 1 62 45 view .LVU28
 130 0018 94F82D30 		ldrb	r3, [r4, #45]	@ zero_extendqisi2
 131              	.LVL10:
  63:modules/motor/XMmotor/xmmotor.c **** 
 132              		.loc 1 63 5 is_stmt 1 view .LVU29
  63:modules/motor/XMmotor/xmmotor.c **** 
 133              		.loc 1 63 25 is_stmt 0 view .LVU30
 134 001c 1021     		movs	r1, #16
 135 001e DFED220A 		vldr.32	s1, .L5+8
 136 0022 9FED220A 		vldr.32	s0, .L5+12
 137 0026 43EA0020 		orr	r0, r3, r0, lsl #8
 138              	.LVL11:
  63:modules/motor/XMmotor/xmmotor.c **** 
 139              		.loc 1 63 25 view .LVU31
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 5


 140 002a FFF7FEFF 		bl	uint16_to_float
 141              	.LVL12:
  63:modules/motor/XMmotor/xmmotor.c **** 
 142              		.loc 1 63 23 discriminator 1 view .LVU32
 143 002e 85ED030A 		vstr.32	s0, [r5, #12]
  65:modules/motor/XMmotor/xmmotor.c ****     measure->velocity = uint16_to_float(tmp, XM_V_MIN, XM_V_MAX, 16);
 144              		.loc 1 65 5 is_stmt 1 view .LVU33
  65:modules/motor/XMmotor/xmmotor.c ****     measure->velocity = uint16_to_float(tmp, XM_V_MIN, XM_V_MAX, 16);
 145              		.loc 1 65 28 is_stmt 0 view .LVU34
 146 0032 94F82E00 		ldrb	r0, [r4, #46]	@ zero_extendqisi2
  65:modules/motor/XMmotor/xmmotor.c ****     measure->velocity = uint16_to_float(tmp, XM_V_MIN, XM_V_MAX, 16);
 147              		.loc 1 65 45 view .LVU35
 148 0036 94F82F30 		ldrb	r3, [r4, #47]	@ zero_extendqisi2
 149              	.LVL13:
  66:modules/motor/XMmotor/xmmotor.c **** 
 150              		.loc 1 66 5 is_stmt 1 view .LVU36
  66:modules/motor/XMmotor/xmmotor.c **** 
 151              		.loc 1 66 25 is_stmt 0 view .LVU37
 152 003a 1021     		movs	r1, #16
 153 003c F3EE0E0A 		vmov.f32	s1, #3.0e+1
 154 0040 BBEE0E0A 		vmov.f32	s0, #-3.0e+1
 155 0044 43EA0020 		orr	r0, r3, r0, lsl #8
 156              	.LVL14:
  66:modules/motor/XMmotor/xmmotor.c **** 
 157              		.loc 1 66 25 view .LVU38
 158 0048 FFF7FEFF 		bl	uint16_to_float
 159              	.LVL15:
  66:modules/motor/XMmotor/xmmotor.c **** 
 160              		.loc 1 66 23 discriminator 1 view .LVU39
 161 004c 85ED010A 		vstr.32	s0, [r5, #4]
  68:modules/motor/XMmotor/xmmotor.c ****     measure->torque = uint16_to_float(tmp, XM_T_MIN, XM_T_MAX, 16);
 162              		.loc 1 68 5 is_stmt 1 view .LVU40
  68:modules/motor/XMmotor/xmmotor.c ****     measure->torque = uint16_to_float(tmp, XM_T_MIN, XM_T_MAX, 16);
 163              		.loc 1 68 28 is_stmt 0 view .LVU41
 164 0050 94F83000 		ldrb	r0, [r4, #48]	@ zero_extendqisi2
  68:modules/motor/XMmotor/xmmotor.c ****     measure->torque = uint16_to_float(tmp, XM_T_MIN, XM_T_MAX, 16);
 165              		.loc 1 68 45 view .LVU42
 166 0054 94F83130 		ldrb	r3, [r4, #49]	@ zero_extendqisi2
 167              	.LVL16:
  69:modules/motor/XMmotor/xmmotor.c **** 
 168              		.loc 1 69 5 is_stmt 1 view .LVU43
  69:modules/motor/XMmotor/xmmotor.c **** 
 169              		.loc 1 69 23 is_stmt 0 view .LVU44
 170 0058 1021     		movs	r1, #16
 171 005a F2EE080A 		vmov.f32	s1, #1.2e+1
 172 005e BAEE080A 		vmov.f32	s0, #-1.2e+1
 173 0062 43EA0020 		orr	r0, r3, r0, lsl #8
 174              	.LVL17:
  69:modules/motor/XMmotor/xmmotor.c **** 
 175              		.loc 1 69 23 view .LVU45
 176 0066 FFF7FEFF 		bl	uint16_to_float
 177              	.LVL18:
  69:modules/motor/XMmotor/xmmotor.c **** 
 178              		.loc 1 69 21 discriminator 1 view .LVU46
 179 006a 85ED040A 		vstr.32	s0, [r5, #16]
  71:modules/motor/XMmotor/xmmotor.c **** }
 180              		.loc 1 71 5 is_stmt 1 view .LVU47
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 6


  71:modules/motor/XMmotor/xmmotor.c **** }
 181              		.loc 1 71 43 is_stmt 0 view .LVU48
 182 006e 94F83230 		ldrb	r3, [r4, #50]	@ zero_extendqisi2
  71:modules/motor/XMmotor/xmmotor.c **** }
 183              		.loc 1 71 61 view .LVU49
 184 0072 94F83300 		ldrb	r0, [r4, #51]	@ zero_extendqisi2
  71:modules/motor/XMmotor/xmmotor.c **** }
 185              		.loc 1 71 53 view .LVU50
 186 0076 40EA0320 		orr	r0, r0, r3, lsl #8
  71:modules/motor/XMmotor/xmmotor.c **** }
 187              		.loc 1 71 28 view .LVU51
 188 007a 07EE900A 		vmov	s15, r0	@ int
 189 007e F8EEE77A 		vcvt.f32.s32	s15, s15
 190 0082 17EE900A 		vmov	r0, s15
 191 0086 FFF7FEFF 		bl	__aeabi_f2d
 192              	.LVL19:
  71:modules/motor/XMmotor/xmmotor.c **** }
 193              		.loc 1 71 66 view .LVU52
 194 008a 05A3     		adr	r3, .L5
 195 008c D3E90023 		ldrd	r2, [r3]
 196 0090 FFF7FEFF 		bl	__aeabi_dmul
 197              	.LVL20:
 198 0094 FFF7FEFF 		bl	__aeabi_d2f
 199              	.LVL21:
  71:modules/motor/XMmotor/xmmotor.c **** }
 200              		.loc 1 71 26 view .LVU53
 201 0098 E861     		str	r0, [r5, #28]	@ float
  72:modules/motor/XMmotor/xmmotor.c **** 
 202              		.loc 1 72 1 view .LVU54
 203 009a 38BD     		pop	{r3, r4, r5, pc}
 204              	.LVL22:
 205              	.L6:
  72:modules/motor/XMmotor/xmmotor.c **** 
 206              		.loc 1 72 1 view .LVU55
 207 009c AFF30080 		.align	3
 208              	.L5:
 209 00a0 9A999999 		.word	-1717986918
 210 00a4 9999B93F 		.word	1069128089
 211 00a8 00003444 		.word	1144258560
 212 00ac 000034C4 		.word	-1003225088
 213              		.cfi_endproc
 214              	.LFE279:
 216              		.section	.text.XMMotorSetMode,"ax",%progbits
 217              		.align	1
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 222              	XMMotorSetMode:
 223              	.LVL23:
 224              	.LFB278:
  29:modules/motor/XMmotor/xmmotor.c ****     // memset(motor->motor_can_instace->tx_buff, 0, 8);  
 225              		.loc 1 29 1 is_stmt 1 view -0
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 0
 228              		@ frame_needed = 0, uses_anonymous_args = 0
  29:modules/motor/XMmotor/xmmotor.c ****     // memset(motor->motor_can_instace->tx_buff, 0, 8);  
 229              		.loc 1 29 1 is_stmt 0 view .LVU57
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 7


 230 0000 08B5     		push	{r3, lr}
 231              	.LCFI1:
 232              		.cfi_def_cfa_offset 8
 233              		.cfi_offset 3, -8
 234              		.cfi_offset 14, -4
  32:modules/motor/XMmotor/xmmotor.c ****     {
 235              		.loc 1 32 5 is_stmt 1 view .LVU58
  32:modules/motor/XMmotor/xmmotor.c ****     {
 236              		.loc 1 32 8 is_stmt 0 view .LVU59
 237 0002 0328     		cmp	r0, #3
 238 0004 08D0     		beq	.L11
  39:modules/motor/XMmotor/xmmotor.c ****     {
 239              		.loc 1 39 10 is_stmt 1 view .LVU60
  39:modules/motor/XMmotor/xmmotor.c ****     {
 240              		.loc 1 39 13 is_stmt 0 view .LVU61
 241 0006 1228     		cmp	r0, #18
 242 0008 14D0     		beq	.L12
 243              	.LVL24:
 244              	.L9:
  48:modules/motor/XMmotor/xmmotor.c **** }
 245              		.loc 1 48 5 is_stmt 1 view .LVU62
 246 000a B7EE000A 		vmov.f32	s0, #1.0e+0
 247 000e D1F8B401 		ldr	r0, [r1, #436]
 248 0012 FFF7FEFF 		bl	CANTransmit
 249              	.LVL25:
  49:modules/motor/XMmotor/xmmotor.c **** 
 250              		.loc 1 49 1 is_stmt 0 view .LVU63
 251 0016 08BD     		pop	{r3, pc}
 252              	.LVL26:
 253              	.L11:
  34:modules/motor/XMmotor/xmmotor.c ****         // motor->motor_can_instace->txconf.ExtId = 0x03 << 24 | 0x0 << 8 | motor->motor_can_instac
 254              		.loc 1 34 9 is_stmt 1 view .LVU64
  34:modules/motor/XMmotor/xmmotor.c ****         // motor->motor_can_instace->txconf.ExtId = 0x03 << 24 | 0x0 << 8 | motor->motor_can_instac
 255              		.loc 1 34 21 is_stmt 0 view .LVU65
 256 0018 D1F8B431 		ldr	r3, [r1, #436]
  34:modules/motor/XMmotor/xmmotor.c ****         // motor->motor_can_instace->txconf.ExtId = 0x03 << 24 | 0x0 << 8 | motor->motor_can_instac
 257              		.loc 1 34 9 view .LVU66
 258 001c 0022     		movs	r2, #0
 259 001e 5A62     		str	r2, [r3, #36]	@ unaligned
 260 0020 9A62     		str	r2, [r3, #40]	@ unaligned
  36:modules/motor/XMmotor/xmmotor.c ****         // motor->motor_can_instace->txconf.ExtId = 0; 
 261              		.loc 1 36 9 is_stmt 1 view .LVU67
  36:modules/motor/XMmotor/xmmotor.c ****         // motor->motor_can_instace->txconf.ExtId = 0; 
 262              		.loc 1 36 14 is_stmt 0 view .LVU68
 263 0022 D1F8B431 		ldr	r3, [r1, #436]
  36:modules/motor/XMmotor/xmmotor.c ****         // motor->motor_can_instace->txconf.ExtId = 0; 
 264              		.loc 1 36 48 view .LVU69
 265 0026 7F20     		movs	r0, #127
 266              	.LVL27:
  36:modules/motor/XMmotor/xmmotor.c ****         // motor->motor_can_instace->txconf.ExtId = 0; 
 267              		.loc 1 36 48 view .LVU70
 268 0028 1872     		strb	r0, [r3, #8]
 269 002a 5A72     		strb	r2, [r3, #9]
 270 002c 9A72     		strb	r2, [r3, #10]
 271 002e 0322     		movs	r2, #3
 272 0030 DA72     		strb	r2, [r3, #11]
 273 0032 EAE7     		b	.L9
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 8


 274              	.LVL28:
 275              	.L12:
  41:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->txconf.ExtId = 0x1200007f; 
 276              		.loc 1 41 9 is_stmt 1 view .LVU71
  41:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->txconf.ExtId = 0x1200007f; 
 277              		.loc 1 41 79 is_stmt 0 view .LVU72
 278 0034 D1F8B421 		ldr	r2, [r1, #436]
  41:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->txconf.ExtId = 0x1200007f; 
 279              		.loc 1 41 98 view .LVU73
 280 0038 D369     		ldr	r3, [r2, #28]	@ unaligned
  41:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->txconf.ExtId = 0x1200007f; 
 281              		.loc 1 41 72 view .LVU74
 282 003a 43F09053 		orr	r3, r3, #301989888
  41:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->txconf.ExtId = 0x1200007f; 
 283              		.loc 1 41 48 view .LVU75
 284 003e 9360     		str	r3, [r2, #8]	@ unaligned
  42:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[0] = (uint8_t)0x05;
 285              		.loc 1 42 9 is_stmt 1 view .LVU76
  42:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[0] = (uint8_t)0x05;
 286              		.loc 1 42 14 is_stmt 0 view .LVU77
 287 0040 D1F8B431 		ldr	r3, [r1, #436]
  42:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[0] = (uint8_t)0x05;
 288              		.loc 1 42 48 view .LVU78
 289 0044 0022     		movs	r2, #0
 290 0046 7F20     		movs	r0, #127
 291              	.LVL29:
  42:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[0] = (uint8_t)0x05;
 292              		.loc 1 42 48 view .LVU79
 293 0048 1872     		strb	r0, [r3, #8]
 294 004a 5A72     		strb	r2, [r3, #9]
 295 004c 9A72     		strb	r2, [r3, #10]
 296 004e 1222     		movs	r2, #18
 297 0050 DA72     		strb	r2, [r3, #11]
  43:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[1] = (uint8_t)0x70;
 298              		.loc 1 43 9 is_stmt 1 view .LVU80
  43:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[1] = (uint8_t)0x70;
 299              		.loc 1 43 14 is_stmt 0 view .LVU81
 300 0052 D1F8B431 		ldr	r3, [r1, #436]
  43:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[1] = (uint8_t)0x70;
 301              		.loc 1 43 46 view .LVU82
 302 0056 0522     		movs	r2, #5
 303 0058 83F82420 		strb	r2, [r3, #36]
  44:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[4] = (uint8_t)0x03;
 304              		.loc 1 44 9 is_stmt 1 view .LVU83
  44:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[4] = (uint8_t)0x03;
 305              		.loc 1 44 14 is_stmt 0 view .LVU84
 306 005c D1F8B431 		ldr	r3, [r1, #436]
  44:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[4] = (uint8_t)0x03;
 307              		.loc 1 44 46 view .LVU85
 308 0060 7022     		movs	r2, #112
 309 0062 83F82520 		strb	r2, [r3, #37]
  45:modules/motor/XMmotor/xmmotor.c ****     }
 310              		.loc 1 45 9 is_stmt 1 view .LVU86
  45:modules/motor/XMmotor/xmmotor.c ****     }
 311              		.loc 1 45 14 is_stmt 0 view .LVU87
 312 0066 D1F8B431 		ldr	r3, [r1, #436]
  45:modules/motor/XMmotor/xmmotor.c ****     }
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 9


 313              		.loc 1 45 46 view .LVU88
 314 006a 0322     		movs	r2, #3
 315 006c 83F82820 		strb	r2, [r3, #40]
 316 0070 CBE7     		b	.L9
 317              		.cfi_endproc
 318              	.LFE278:
 320              		.section	.text.XMMotorTask,"ax",%progbits
 321              		.align	1
 322              		.global	XMMotorTask
 323              		.syntax unified
 324              		.thumb
 325              		.thumb_func
 327              	XMMotorTask:
 328              	.LVL30:
 329              	.LFB288:
  77:modules/motor/XMmotor/xmmotor.c **** 
  78:modules/motor/XMmotor/xmmotor.c **** void XMMotorCaliEncoder(XMMotorInstance *motor)
  79:modules/motor/XMmotor/xmmotor.c **** {
  80:modules/motor/XMmotor/xmmotor.c ****     // XMMotorSetMode(DM_CMD_ZERO_POSITION, motor);
  81:modules/motor/XMmotor/xmmotor.c ****     // DWT_Delay(0.1);
  82:modules/motor/XMmotor/xmmotor.c **** }
  83:modules/motor/XMmotor/xmmotor.c **** XMMotorInstance *XMMotorInit(Motor_Init_Config_s *config)
  84:modules/motor/XMmotor/xmmotor.c **** {
  85:modules/motor/XMmotor/xmmotor.c ****     XMMotorInstance *motor = (XMMotorInstance *)malloc(sizeof(XMMotorInstance));
  86:modules/motor/XMmotor/xmmotor.c ****     memset(motor, 0, sizeof(XMMotorInstance));
  87:modules/motor/XMmotor/xmmotor.c ****     
  88:modules/motor/XMmotor/xmmotor.c ****     motor->motor_settings = config->controller_setting_init_config;
  89:modules/motor/XMmotor/xmmotor.c ****     PIDInit(&motor->motor_controller.current_PID, &config->controller_param_init_config.current_PID
  90:modules/motor/XMmotor/xmmotor.c ****     PIDInit(&motor->motor_controller.speed_PID, &config->controller_param_init_config.speed_PID);
  91:modules/motor/XMmotor/xmmotor.c ****     PIDInit(&motor->motor_controller.angle_PID, &config->controller_param_init_config.angle_PID);
  92:modules/motor/XMmotor/xmmotor.c ****     motor->motor_controller.other_angle_feedback_ptr = config->controller_param_init_config.other_a
  93:modules/motor/XMmotor/xmmotor.c ****     motor->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.other_s
  94:modules/motor/XMmotor/xmmotor.c **** 
  95:modules/motor/XMmotor/xmmotor.c ****     config->can_init_config.can_module_callback = XMMotorDecode;
  96:modules/motor/XMmotor/xmmotor.c ****     config->can_init_config.id = motor;
  97:modules/motor/XMmotor/xmmotor.c ****     config->can_init_config.mode = CAN_ID_EXT; // ÂºÄÂêØÊãìÂ±ïÂ∏ß
  98:modules/motor/XMmotor/xmmotor.c ****     motor->motor_can_instace = CANRegister(&config->can_init_config);
  99:modules/motor/XMmotor/xmmotor.c **** 
 100:modules/motor/XMmotor/xmmotor.c ****     XMMotorEnable(motor);
 101:modules/motor/XMmotor/xmmotor.c **** 
 102:modules/motor/XMmotor/xmmotor.c ****     XMMotorSetMode(XM_CMD_CURRENT_MODE, motor);     // ËÆæÁΩÆÁîµÊµÅÁéØÊ®°Âºè
 103:modules/motor/XMmotor/xmmotor.c ****     DWT_Delay(0.1);
 104:modules/motor/XMmotor/xmmotor.c ****     XMMotorSetMode(XM_CMD_MOTOR_MODE, motor);       // ‰ΩøËÉΩÁîµÊú∫    
 105:modules/motor/XMmotor/xmmotor.c ****     DWT_Delay(0.1);
 106:modules/motor/XMmotor/xmmotor.c **** 
 107:modules/motor/XMmotor/xmmotor.c ****     Daemon_Init_Config_s conf = {
 108:modules/motor/XMmotor/xmmotor.c ****         .callback = XMMotorLostCallback,   
 109:modules/motor/XMmotor/xmmotor.c ****         .owner_id = motor,
 110:modules/motor/XMmotor/xmmotor.c ****         .reload_count = 5, // 50ms
 111:modules/motor/XMmotor/xmmotor.c ****     };
 112:modules/motor/XMmotor/xmmotor.c ****     motor->motor_daemon = DaemonRegister(&conf);
 113:modules/motor/XMmotor/xmmotor.c **** 
 114:modules/motor/XMmotor/xmmotor.c ****     xm_motor_instance[idx++] = motor;
 115:modules/motor/XMmotor/xmmotor.c ****     return motor;
 116:modules/motor/XMmotor/xmmotor.c **** }
 117:modules/motor/XMmotor/xmmotor.c **** 
 118:modules/motor/XMmotor/xmmotor.c **** void XMMotorSetRef(XMMotorInstance *motor, float ref)
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 10


 119:modules/motor/XMmotor/xmmotor.c **** {
 120:modules/motor/XMmotor/xmmotor.c ****     motor->motor_controller.pid_ref = ref;
 121:modules/motor/XMmotor/xmmotor.c **** }
 122:modules/motor/XMmotor/xmmotor.c **** 
 123:modules/motor/XMmotor/xmmotor.c **** void XMMotorChangeFeed(XMMotorInstance *motor, Closeloop_Type_e loop, Feedback_Source_e type)
 124:modules/motor/XMmotor/xmmotor.c **** {
 125:modules/motor/XMmotor/xmmotor.c ****     if (loop == ANGLE_LOOP)
 126:modules/motor/XMmotor/xmmotor.c ****         motor->motor_settings.angle_feedback_source = type;
 127:modules/motor/XMmotor/xmmotor.c ****     else if (loop == SPEED_LOOP)
 128:modules/motor/XMmotor/xmmotor.c ****         motor->motor_settings.speed_feedback_source = type;
 129:modules/motor/XMmotor/xmmotor.c ****     else
 130:modules/motor/XMmotor/xmmotor.c ****         LOGERROR("[dji_motor] loop type error, check memory access and func param"); // Ê£ÄÊü•ÊòØÂê
 131:modules/motor/XMmotor/xmmotor.c **** }
 132:modules/motor/XMmotor/xmmotor.c **** 
 133:modules/motor/XMmotor/xmmotor.c **** 
 134:modules/motor/XMmotor/xmmotor.c **** void XMMotorEnable(XMMotorInstance *motor)
 135:modules/motor/XMmotor/xmmotor.c **** {
 136:modules/motor/XMmotor/xmmotor.c ****     motor->stop_flag = MOTOR_ENALBED;
 137:modules/motor/XMmotor/xmmotor.c **** }
 138:modules/motor/XMmotor/xmmotor.c **** 
 139:modules/motor/XMmotor/xmmotor.c **** void XMMotorStop(XMMotorInstance *motor)//‰∏ç‰ΩøÁî®‰ΩøËÉΩÊ®°ÂºèÊòØÂõ†‰∏∫ÈúÄË¶ÅÊî∂Âà∞ÂèçÈ¶à
 140:modules/motor/XMmotor/xmmotor.c **** {
 141:modules/motor/XMmotor/xmmotor.c ****     motor->stop_flag = MOTOR_STOP;
 142:modules/motor/XMmotor/xmmotor.c **** }
 143:modules/motor/XMmotor/xmmotor.c **** 
 144:modules/motor/XMmotor/xmmotor.c **** void XMMotorOuterLoop(XMMotorInstance *motor, Closeloop_Type_e type)
 145:modules/motor/XMmotor/xmmotor.c **** {
 146:modules/motor/XMmotor/xmmotor.c ****     motor->motor_settings.outer_loop_type = type;
 147:modules/motor/XMmotor/xmmotor.c **** }
 148:modules/motor/XMmotor/xmmotor.c **** 
 149:modules/motor/XMmotor/xmmotor.c **** //@Todo: ÁõÆÂâç‰∏ç‰ΩøÁî®Ëá™Â∏¶ÊéßÂà∂Ê®°ÂºèÔºåÈÄöËøáÁîµÊµÅÂèçÈ¶àËøõË°åPIDÊéßÂà∂ 
 150:modules/motor/XMmotor/xmmotor.c **** void XMMotorTask(void const *argument)
 151:modules/motor/XMmotor/xmmotor.c **** {
 330              		.loc 1 151 1 is_stmt 1 view -0
 331              		.cfi_startproc
 332              		@ args = 0, pretend = 0, frame = 0
 333              		@ frame_needed = 0, uses_anonymous_args = 0
 334              		.loc 1 151 1 is_stmt 0 view .LVU90
 335 0000 10B5     		push	{r4, lr}
 336              	.LCFI2:
 337              		.cfi_def_cfa_offset 8
 338              		.cfi_offset 4, -8
 339              		.cfi_offset 14, -4
 340 0002 0446     		mov	r4, r0
 152:modules/motor/XMmotor/xmmotor.c ****     XMMotorInstance *motor = (XMMotorInstance *)argument;
 341              		.loc 1 152 5 is_stmt 1 view .LVU91
 342              	.LVL31:
 343              		.loc 1 152 5 is_stmt 0 view .LVU92
 344 0004 69E0     		b	.L26
 345              	.LVL32:
 346              	.L32:
 153:modules/motor/XMmotor/xmmotor.c ****     Motor_Control_Setting_s *motor_setting; // ÁîµÊú∫ÊéßÂà∂ÂèÇÊï∞
 154:modules/motor/XMmotor/xmmotor.c ****     Motor_Controller_s *motor_controller;   // ÁîµÊú∫ÊéßÂà∂Âô®
 155:modules/motor/XMmotor/xmmotor.c ****     XM_Motor_Measure_s *measure;
 156:modules/motor/XMmotor/xmmotor.c ****     float pid_ref, pid_measure, set;
 157:modules/motor/XMmotor/xmmotor.c ****     while (1)
 158:modules/motor/XMmotor/xmmotor.c ****     {
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 11


 159:modules/motor/XMmotor/xmmotor.c ****         XMMotorSetMode(XM_CMD_CURRENT_MODE, motor);     // ËÆæÁΩÆÁîµÊµÅÁéØÊ®°Âºè
 160:modules/motor/XMmotor/xmmotor.c ****         XMMotorSetMode(XM_CMD_MOTOR_MODE, motor);       // ‰ΩøËÉΩÁîµÊú∫    
 161:modules/motor/XMmotor/xmmotor.c **** 
 162:modules/motor/XMmotor/xmmotor.c ****         motor_setting = &motor->motor_settings;
 163:modules/motor/XMmotor/xmmotor.c ****         motor_controller = &motor->motor_controller;
 164:modules/motor/XMmotor/xmmotor.c ****         measure = &motor->measure;
 165:modules/motor/XMmotor/xmmotor.c ****         pid_ref = motor_controller->pid_ref;
 166:modules/motor/XMmotor/xmmotor.c **** 
 167:modules/motor/XMmotor/xmmotor.c ****         if (motor_setting->motor_reverse_flag == MOTOR_DIRECTION_REVERSE && (motor_setting->outer_l
 347              		.loc 1 167 91 discriminator 1 view .LVU93
 348 0006 94F82430 		ldrb	r3, [r4, #36]	@ zero_extendqisi2
 349              		.loc 1 167 74 discriminator 1 view .LVU94
 350 000a 13F0060F 		tst	r3, #6
 351 000e 72D0     		beq	.L14
 168:modules/motor/XMmotor/xmmotor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 352              		.loc 1 168 13 is_stmt 1 view .LVU95
 353              		.loc 1 168 21 is_stmt 0 view .LVU96
 354 0010 F1EE600A 		vneg.f32	s1, s1
 355              	.LVL33:
 356              		.loc 1 168 21 view .LVU97
 357 0014 6FE0     		b	.L14
 358              	.L33:
 169:modules/motor/XMmotor/xmmotor.c **** 
 170:modules/motor/XMmotor/xmmotor.c ****         // pid_ref‰ºöÈ°∫Ê¨°ÈÄöËøáË¢´ÂêØÁî®ÁöÑÈó≠ÁéØÂÖÖÂΩìÊï∞ÊçÆÁöÑËΩΩ‰Ωì
 171:modules/motor/XMmotor/xmmotor.c ****         // ËÆ°ÁÆó‰ΩçÁΩÆÁéØ,Âè™ÊúâÂêØÁî®‰ΩçÁΩÆÁéØ‰∏îÂ§ñÂ±ÇÈó≠ÁéØ‰∏∫‰ΩçÁΩÆÊó∂‰ºöËÆ°ÁÆóÈÄüÂ∫¶ÁéØËæìÂá∫
 172:modules/motor/XMmotor/xmmotor.c ****         if ((motor_setting->close_loop_type & ANGLE_LOOP) && motor_setting->outer_loop_type == ANGL
 173:modules/motor/XMmotor/xmmotor.c ****         {
 174:modules/motor/XMmotor/xmmotor.c ****             if (motor_setting->angle_feedback_source == OTHER_FEED)
 359              		.loc 1 174 13 is_stmt 1 view .LVU98
 360              		.loc 1 174 30 is_stmt 0 view .LVU99
 361 0016 94F82830 		ldrb	r3, [r4, #40]	@ zero_extendqisi2
 362              		.loc 1 174 16 view .LVU100
 363 001a 012B     		cmp	r3, #1
 364 001c 0AD0     		beq	.L31
 175:modules/motor/XMmotor/xmmotor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 176:modules/motor/XMmotor/xmmotor.c ****             else
 177:modules/motor/XMmotor/xmmotor.c ****                 pid_measure = measure->total_round; // MOTOR_FEED,ÂØπtotal_roundÈó≠ÁéØ,Èò≤Ê≠¢Âú®Ëæπ
 365              		.loc 1 177 17 is_stmt 1 view .LVU101
 366              		.loc 1 177 29 is_stmt 0 view .LVU102
 367 001e D4ED087A 		vldr.32	s15, [r4, #32]	@ int
 368 0022 B8EEE70A 		vcvt.f32.s32	s0, s15
 369              	.LVL34:
 370              	.L17:
 178:modules/motor/XMmotor/xmmotor.c ****             // Êõ¥Êñ∞pid_refËøõÂÖ•‰∏ã‰∏Ä‰∏™ÁéØ
 179:modules/motor/XMmotor/xmmotor.c ****             pid_ref = PIDCalculate(&motor_controller->angle_PID, pid_measure, pid_ref);
 371              		.loc 1 179 13 is_stmt 1 view .LVU103
 372              		.loc 1 179 23 is_stmt 0 view .LVU104
 373 0026 04F59870 		add	r0, r4, #304
 374 002a FFF7FEFF 		bl	PIDCalculate
 375              	.LVL35:
 376              		.loc 1 179 23 view .LVU105
 377 002e F0EE400A 		vmov.f32	s1, s0
 378              	.LVL36:
 379              		.loc 1 179 23 view .LVU106
 380 0032 69E0     		b	.L15
 381              	.LVL37:
 382              	.L31:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 12


 175:modules/motor/XMmotor/xmmotor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 383              		.loc 1 175 17 is_stmt 1 view .LVU107
 175:modules/motor/XMmotor/xmmotor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 384              		.loc 1 175 48 is_stmt 0 view .LVU108
 385 0034 236B     		ldr	r3, [r4, #48]
 175:modules/motor/XMmotor/xmmotor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 386              		.loc 1 175 29 view .LVU109
 387 0036 93ED000A 		vldr.32	s0, [r3]
 388              	.LVL38:
 175:modules/motor/XMmotor/xmmotor.c ****                 pid_measure = *motor_controller->other_angle_feedback_ptr;
 389              		.loc 1 175 29 view .LVU110
 390 003a F4E7     		b	.L17
 391              	.LVL39:
 392              	.L34:
 180:modules/motor/XMmotor/xmmotor.c ****         }
 181:modules/motor/XMmotor/xmmotor.c **** 
 182:modules/motor/XMmotor/xmmotor.c ****         // ËÆ°ÁÆóÈÄüÂ∫¶ÁéØ,(Â§ñÂ±ÇÈó≠ÁéØ‰∏∫ÈÄüÂ∫¶Êàñ‰ΩçÁΩÆ)‰∏î(ÂêØÁî®ÈÄüÂ∫¶ÁéØ)Êó∂‰ºöËÆ°ÁÆóÈÄüÂ∫¶Áé
 183:modules/motor/XMmotor/xmmotor.c ****         if ((motor_setting->close_loop_type & SPEED_LOOP) && (motor_setting->outer_loop_type & (ANG
 184:modules/motor/XMmotor/xmmotor.c ****         {
 185:modules/motor/XMmotor/xmmotor.c ****             if (motor_setting->feedforward_flag & SPEED_FEEDFORWARD)
 186:modules/motor/XMmotor/xmmotor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 187:modules/motor/XMmotor/xmmotor.c **** 
 188:modules/motor/XMmotor/xmmotor.c ****             if (motor_setting->speed_feedback_source == OTHER_FEED)
 189:modules/motor/XMmotor/xmmotor.c ****                 pid_measure = *motor_controller->other_speed_feedback_ptr;
 393              		.loc 1 189 17 is_stmt 1 view .LVU111
 394              		.loc 1 189 48 is_stmt 0 view .LVU112
 395 003c 636B     		ldr	r3, [r4, #52]
 396              		.loc 1 189 29 view .LVU113
 397 003e 93ED000A 		vldr.32	s0, [r3]
 398              	.LVL40:
 399              		.loc 1 189 29 view .LVU114
 400 0042 7BE0     		b	.L21
 401              	.LVL41:
 402              	.L35:
 190:modules/motor/XMmotor/xmmotor.c ****             else // MOTOR_FEED
 191:modules/motor/XMmotor/xmmotor.c ****                 pid_measure = measure->velocity;
 192:modules/motor/XMmotor/xmmotor.c ****             // Êõ¥Êñ∞pid_ref
 193:modules/motor/XMmotor/xmmotor.c ****             pid_ref = PIDCalculate(&motor_controller->speed_PID, pid_measure, pid_ref);
 194:modules/motor/XMmotor/xmmotor.c ****         }
 195:modules/motor/XMmotor/xmmotor.c **** 
 196:modules/motor/XMmotor/xmmotor.c ****         if (motor_setting->feedback_reverse_flag == FEEDBACK_DIRECTION_REVERSE && (motor_setting->o
 403              		.loc 1 196 97 discriminator 1 view .LVU115
 404 0044 94F82430 		ldrb	r3, [r4, #36]	@ zero_extendqisi2
 405              		.loc 1 196 80 discriminator 1 view .LVU116
 406 0048 13F0060F 		tst	r3, #6
 407 004c 00F08180 		beq	.L22
 197:modules/motor/XMmotor/xmmotor.c ****             pid_ref *= -1;
 408              		.loc 1 197 13 is_stmt 1 view .LVU117
 409              		.loc 1 197 21 is_stmt 0 view .LVU118
 410 0050 F1EE600A 		vneg.f32	s1, s1
 411              	.LVL42:
 412              		.loc 1 197 21 view .LVU119
 413 0054 7DE0     		b	.L22
 414              	.LVL43:
 415              	.L27:
 198:modules/motor/XMmotor/xmmotor.c **** 
 199:modules/motor/XMmotor/xmmotor.c ****         // Ëé∑ÂèñÊúÄÁªàËæìÂá∫,ÂäüÁéáÈôêÂà∂Êó∂Áõ¥Êé•ËæìÂá∫ÁîµÊµÅÂÄº
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 13


 200:modules/motor/XMmotor/xmmotor.c ****         set = pid_ref;
 201:modules/motor/XMmotor/xmmotor.c ****         
 202:modules/motor/XMmotor/xmmotor.c ****         LIMIT_MIN_MAX(set, XM_I_MIN, XM_I_MAX); 
 416              		.loc 1 202 9 discriminator 1 view .LVU120
 417 0056 FAEE040A 		vmov.f32	s1, #-1.0e+1
 418              	.LVL44:
 419              	.L23:
 203:modules/motor/XMmotor/xmmotor.c **** 
 204:modules/motor/XMmotor/xmmotor.c ****         if (motor->stop_flag == MOTOR_STOP)
 420              		.loc 1 204 9 is_stmt 1 view .LVU121
 421              		.loc 1 204 18 is_stmt 0 view .LVU122
 422 005a 94F8B031 		ldrb	r3, [r4, #432]	@ zero_extendqisi2
 423              		.loc 1 204 12 view .LVU123
 424 005e 0BB9     		cbnz	r3, .L25
 205:modules/motor/XMmotor/xmmotor.c ****             set = 0;
 425              		.loc 1 205 17 view .LVU124
 426 0060 DFED450A 		vldr.32	s1, .L36
 427              	.LVL45:
 428              	.L25:
 206:modules/motor/XMmotor/xmmotor.c **** 
 207:modules/motor/XMmotor/xmmotor.c ****         // ÊãìÂ±ïÂ∏ß
 208:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->txconf.ExtId = 0x12 << 24 | 0x0 << 8 | motor->motor_can_instace->
 429              		.loc 1 208 9 is_stmt 1 view .LVU125
 430              		.loc 1 208 79 is_stmt 0 view .LVU126
 431 0064 D4F8B421 		ldr	r2, [r4, #436]
 432              		.loc 1 208 98 view .LVU127
 433 0068 D369     		ldr	r3, [r2, #28]	@ unaligned
 434              		.loc 1 208 72 view .LVU128
 435 006a 43F09053 		orr	r3, r3, #301989888
 436              		.loc 1 208 48 view .LVU129
 437 006e 9360     		str	r3, [r2, #8]	@ unaligned
 209:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->txconf.StdId = 0; 
 438              		.loc 1 209 9 is_stmt 1 view .LVU130
 439              		.loc 1 209 14 is_stmt 0 view .LVU131
 440 0070 D4F8B421 		ldr	r2, [r4, #436]
 441              		.loc 1 209 48 view .LVU132
 442 0074 0023     		movs	r3, #0
 443 0076 1371     		strb	r3, [r2, #4]
 444 0078 5371     		strb	r3, [r2, #5]
 445 007a 9371     		strb	r3, [r2, #6]
 446 007c D371     		strb	r3, [r2, #7]
 210:modules/motor/XMmotor/xmmotor.c **** 
 211:modules/motor/XMmotor/xmmotor.c ****         memset(motor->motor_can_instace->tx_buff, 0, 8);  
 447              		.loc 1 211 9 is_stmt 1 view .LVU133
 448              		.loc 1 211 21 is_stmt 0 view .LVU134
 449 007e D4F8B421 		ldr	r2, [r4, #436]
 450              		.loc 1 211 9 view .LVU135
 451 0082 5362     		str	r3, [r2, #36]	@ unaligned
 452 0084 9362     		str	r3, [r2, #40]	@ unaligned
 212:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[0] = (uint8_t)(0x06);
 453              		.loc 1 212 9 is_stmt 1 view .LVU136
 454              		.loc 1 212 14 is_stmt 0 view .LVU137
 455 0086 D4F8B431 		ldr	r3, [r4, #436]
 456              		.loc 1 212 46 view .LVU138
 457 008a 0622     		movs	r2, #6
 458 008c 83F82420 		strb	r2, [r3, #36]
 213:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[1] = (uint8_t)(0x70);
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 14


 459              		.loc 1 213 9 is_stmt 1 view .LVU139
 460              		.loc 1 213 14 is_stmt 0 view .LVU140
 461 0090 D4F8B431 		ldr	r3, [r4, #436]
 462              		.loc 1 213 46 view .LVU141
 463 0094 7022     		movs	r2, #112
 464 0096 83F82520 		strb	r2, [r3, #37]
 214:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[4] = (uint8_t)((*(unsigned long*)&set & 0x000000FF));
 465              		.loc 1 214 9 is_stmt 1 view .LVU142
 466              		.loc 1 214 59 is_stmt 0 view .LVU143
 467 009a 10EE903A 		vmov	r3, s1	@ int
 468              		.loc 1 214 14 view .LVU144
 469 009e D4F8B421 		ldr	r2, [r4, #436]
 470              		.loc 1 214 46 view .LVU145
 471 00a2 82F82830 		strb	r3, [r2, #40]
 215:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[5] = (uint8_t)((*(unsigned long*)&set & 0x0000FF00) >> 8)
 472              		.loc 1 215 9 is_stmt 1 view .LVU146
 473              		.loc 1 215 14 is_stmt 0 view .LVU147
 474 00a6 D4F8B421 		ldr	r2, [r4, #436]
 475              		.loc 1 215 48 view .LVU148
 476 00aa C3F30721 		ubfx	r1, r3, #8, #8
 477              		.loc 1 215 46 view .LVU149
 478 00ae 82F82910 		strb	r1, [r2, #41]
 216:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[6] = (uint8_t)((*(unsigned long*)&set & 0x00FF0000) >> 16
 479              		.loc 1 216 9 is_stmt 1 view .LVU150
 480              		.loc 1 216 14 is_stmt 0 view .LVU151
 481 00b2 D4F8B421 		ldr	r2, [r4, #436]
 482              		.loc 1 216 48 view .LVU152
 483 00b6 C3F30741 		ubfx	r1, r3, #16, #8
 484              		.loc 1 216 46 view .LVU153
 485 00ba 82F82A10 		strb	r1, [r2, #42]
 217:modules/motor/XMmotor/xmmotor.c ****         motor->motor_can_instace->tx_buff[7] = (uint8_t)((*(unsigned long*)&set & 0xFF000000) >> 24
 486              		.loc 1 217 9 is_stmt 1 view .LVU154
 487              		.loc 1 217 14 is_stmt 0 view .LVU155
 488 00be D4F8B421 		ldr	r2, [r4, #436]
 489              		.loc 1 217 48 view .LVU156
 490 00c2 1B0E     		lsrs	r3, r3, #24
 491              		.loc 1 217 46 view .LVU157
 492 00c4 82F82B30 		strb	r3, [r2, #43]
 218:modules/motor/XMmotor/xmmotor.c **** 
 219:modules/motor/XMmotor/xmmotor.c ****         CANTransmit(motor->motor_can_instace, 1);
 493              		.loc 1 219 9 is_stmt 1 view .LVU158
 494 00c8 B7EE000A 		vmov.f32	s0, #1.0e+0
 495 00cc D4F8B401 		ldr	r0, [r4, #436]
 496 00d0 FFF7FEFF 		bl	CANTransmit
 497              	.LVL46:
 220:modules/motor/XMmotor/xmmotor.c **** 
 221:modules/motor/XMmotor/xmmotor.c ****         osDelay(2);
 498              		.loc 1 221 9 view .LVU159
 499 00d4 0220     		movs	r0, #2
 500 00d6 FFF7FEFF 		bl	osDelay
 501              	.LVL47:
 157:modules/motor/XMmotor/xmmotor.c ****     {
 502              		.loc 1 157 11 view .LVU160
 503              	.L26:
 153:modules/motor/XMmotor/xmmotor.c ****     Motor_Controller_s *motor_controller;   // ÁîµÊú∫ÊéßÂà∂Âô®
 504              		.loc 1 153 5 view .LVU161
 154:modules/motor/XMmotor/xmmotor.c ****     XM_Motor_Measure_s *measure;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 15


 505              		.loc 1 154 5 view .LVU162
 155:modules/motor/XMmotor/xmmotor.c ****     float pid_ref, pid_measure, set;
 506              		.loc 1 155 5 view .LVU163
 156:modules/motor/XMmotor/xmmotor.c ****     while (1)
 507              		.loc 1 156 5 view .LVU164
 157:modules/motor/XMmotor/xmmotor.c ****     {
 508              		.loc 1 157 5 view .LVU165
 159:modules/motor/XMmotor/xmmotor.c ****         XMMotorSetMode(XM_CMD_MOTOR_MODE, motor);       // ‰ΩøËÉΩÁîµÊú∫    
 509              		.loc 1 159 9 view .LVU166
 510 00da 2146     		mov	r1, r4
 511 00dc 1220     		movs	r0, #18
 512 00de FFF7FEFF 		bl	XMMotorSetMode
 513              	.LVL48:
 160:modules/motor/XMmotor/xmmotor.c **** 
 514              		.loc 1 160 9 view .LVU167
 515 00e2 2146     		mov	r1, r4
 516 00e4 0320     		movs	r0, #3
 517 00e6 FFF7FEFF 		bl	XMMotorSetMode
 518              	.LVL49:
 162:modules/motor/XMmotor/xmmotor.c ****         motor_controller = &motor->motor_controller;
 519              		.loc 1 162 9 view .LVU168
 163:modules/motor/XMmotor/xmmotor.c ****         measure = &motor->measure;
 520              		.loc 1 163 9 view .LVU169
 164:modules/motor/XMmotor/xmmotor.c ****         pid_ref = motor_controller->pid_ref;
 521              		.loc 1 164 9 view .LVU170
 165:modules/motor/XMmotor/xmmotor.c **** 
 522              		.loc 1 165 9 view .LVU171
 165:modules/motor/XMmotor/xmmotor.c **** 
 523              		.loc 1 165 17 is_stmt 0 view .LVU172
 524 00ea D4ED6A0A 		vldr.32	s1, [r4, #424]
 525              	.LVL50:
 167:modules/motor/XMmotor/xmmotor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 526              		.loc 1 167 9 is_stmt 1 view .LVU173
 167:modules/motor/XMmotor/xmmotor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 527              		.loc 1 167 26 is_stmt 0 view .LVU174
 528 00ee 94F82630 		ldrb	r3, [r4, #38]	@ zero_extendqisi2
 167:modules/motor/XMmotor/xmmotor.c ****             pid_ref *= -1; // ËÆæÁΩÆÂèçËΩ¨
 529              		.loc 1 167 12 view .LVU175
 530 00f2 012B     		cmp	r3, #1
 531 00f4 87D0     		beq	.L32
 532              	.L14:
 172:modules/motor/XMmotor/xmmotor.c ****         {
 533              		.loc 1 172 9 is_stmt 1 view .LVU176
 172:modules/motor/XMmotor/xmmotor.c ****         {
 534              		.loc 1 172 27 is_stmt 0 view .LVU177
 535 00f6 94F82530 		ldrb	r3, [r4, #37]	@ zero_extendqisi2
 172:modules/motor/XMmotor/xmmotor.c ****         {
 536              		.loc 1 172 12 view .LVU178
 537 00fa 13F0040F 		tst	r3, #4
 538 00fe 03D0     		beq	.L15
 172:modules/motor/XMmotor/xmmotor.c ****         {
 539              		.loc 1 172 75 discriminator 1 view .LVU179
 540 0100 94F82430 		ldrb	r3, [r4, #36]	@ zero_extendqisi2
 172:modules/motor/XMmotor/xmmotor.c ****         {
 541              		.loc 1 172 59 discriminator 1 view .LVU180
 542 0104 042B     		cmp	r3, #4
 543 0106 86D0     		beq	.L33
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 16


 544              	.L15:
 183:modules/motor/XMmotor/xmmotor.c ****         {
 545              		.loc 1 183 9 is_stmt 1 view .LVU181
 183:modules/motor/XMmotor/xmmotor.c ****         {
 546              		.loc 1 183 27 is_stmt 0 view .LVU182
 547 0108 94F82530 		ldrb	r3, [r4, #37]	@ zero_extendqisi2
 183:modules/motor/XMmotor/xmmotor.c ****         {
 548              		.loc 1 183 12 view .LVU183
 549 010c 13F0020F 		tst	r3, #2
 550 0110 1AD0     		beq	.L18
 183:modules/motor/XMmotor/xmmotor.c ****         {
 551              		.loc 1 183 76 discriminator 1 view .LVU184
 552 0112 94F82430 		ldrb	r3, [r4, #36]	@ zero_extendqisi2
 183:modules/motor/XMmotor/xmmotor.c ****         {
 553              		.loc 1 183 59 discriminator 1 view .LVU185
 554 0116 13F0060F 		tst	r3, #6
 555 011a 15D0     		beq	.L18
 185:modules/motor/XMmotor/xmmotor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 556              		.loc 1 185 13 is_stmt 1 view .LVU186
 185:modules/motor/XMmotor/xmmotor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 557              		.loc 1 185 30 is_stmt 0 view .LVU187
 558 011c 94F82A30 		ldrb	r3, [r4, #42]	@ zero_extendqisi2
 185:modules/motor/XMmotor/xmmotor.c ****                 pid_ref += *motor_controller->speed_feedforward_ptr;
 559              		.loc 1 185 16 view .LVU188
 560 0120 13F0020F 		tst	r3, #2
 561 0124 04D0     		beq	.L19
 186:modules/motor/XMmotor/xmmotor.c **** 
 562              		.loc 1 186 17 is_stmt 1 view .LVU189
 186:modules/motor/XMmotor/xmmotor.c **** 
 563              		.loc 1 186 45 is_stmt 0 view .LVU190
 564 0126 A36B     		ldr	r3, [r4, #56]
 186:modules/motor/XMmotor/xmmotor.c **** 
 565              		.loc 1 186 28 view .LVU191
 566 0128 D3ED007A 		vldr.32	s15, [r3]
 186:modules/motor/XMmotor/xmmotor.c **** 
 567              		.loc 1 186 25 view .LVU192
 568 012c 70EEA70A 		vadd.f32	s1, s1, s15
 569              	.LVL51:
 570              	.L19:
 188:modules/motor/XMmotor/xmmotor.c ****                 pid_measure = *motor_controller->other_speed_feedback_ptr;
 571              		.loc 1 188 13 is_stmt 1 view .LVU193
 188:modules/motor/XMmotor/xmmotor.c ****                 pid_measure = *motor_controller->other_speed_feedback_ptr;
 572              		.loc 1 188 30 is_stmt 0 view .LVU194
 573 0130 94F82930 		ldrb	r3, [r4, #41]	@ zero_extendqisi2
 188:modules/motor/XMmotor/xmmotor.c ****                 pid_measure = *motor_controller->other_speed_feedback_ptr;
 574              		.loc 1 188 16 view .LVU195
 575 0134 012B     		cmp	r3, #1
 576 0136 81D0     		beq	.L34
 191:modules/motor/XMmotor/xmmotor.c ****             // Êõ¥Êñ∞pid_ref
 577              		.loc 1 191 17 is_stmt 1 view .LVU196
 191:modules/motor/XMmotor/xmmotor.c ****             // Êõ¥Êñ∞pid_ref
 578              		.loc 1 191 29 is_stmt 0 view .LVU197
 579 0138 94ED010A 		vldr.32	s0, [r4, #4]
 580              	.LVL52:
 581              	.L21:
 193:modules/motor/XMmotor/xmmotor.c ****         }
 582              		.loc 1 193 13 is_stmt 1 view .LVU198
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 17


 193:modules/motor/XMmotor/xmmotor.c ****         }
 583              		.loc 1 193 23 is_stmt 0 view .LVU199
 584 013c 04F1B800 		add	r0, r4, #184
 585 0140 FFF7FEFF 		bl	PIDCalculate
 586              	.LVL53:
 193:modules/motor/XMmotor/xmmotor.c ****         }
 587              		.loc 1 193 23 view .LVU200
 588 0144 F0EE400A 		vmov.f32	s1, s0
 589              	.LVL54:
 590              	.L18:
 196:modules/motor/XMmotor/xmmotor.c ****             pid_ref *= -1;
 591              		.loc 1 196 9 is_stmt 1 view .LVU201
 196:modules/motor/XMmotor/xmmotor.c ****             pid_ref *= -1;
 592              		.loc 1 196 26 is_stmt 0 view .LVU202
 593 0148 94F82730 		ldrb	r3, [r4, #39]	@ zero_extendqisi2
 196:modules/motor/XMmotor/xmmotor.c ****             pid_ref *= -1;
 594              		.loc 1 196 12 view .LVU203
 595 014c 012B     		cmp	r3, #1
 596 014e 3FF479AF 		beq	.L35
 597              	.L22:
 200:modules/motor/XMmotor/xmmotor.c ****         
 598              		.loc 1 200 9 is_stmt 1 view .LVU204
 599              	.LVL55:
 202:modules/motor/XMmotor/xmmotor.c **** 
 600              		.loc 1 202 9 view .LVU205
 601 0152 FAEE047A 		vmov.f32	s15, #-1.0e+1
 602 0156 F4EEE70A 		vcmpe.f32	s1, s15
 603 015a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 604 015e 7FF67AAF 		bls	.L27
 202:modules/motor/XMmotor/xmmotor.c **** 
 605              		.loc 1 202 9 is_stmt 0 discriminator 2 view .LVU206
 606 0162 F2EE047A 		vmov.f32	s15, #1.0e+1
 607 0166 F4EEE70A 		vcmpe.f32	s1, s15
 608 016a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 609 016e FFF674AF 		blt	.L23
 202:modules/motor/XMmotor/xmmotor.c **** 
 610              		.loc 1 202 9 discriminator 4 view .LVU207
 611 0172 F0EE670A 		vmov.f32	s1, s15
 612              	.LVL56:
 202:modules/motor/XMmotor/xmmotor.c **** 
 613              		.loc 1 202 9 discriminator 4 view .LVU208
 614 0176 70E7     		b	.L23
 615              	.L37:
 616              		.align	2
 617              	.L36:
 618 0178 00000000 		.word	0
 619              		.cfi_endproc
 620              	.LFE288:
 622              		.section	.text.XMMotorCaliEncoder,"ax",%progbits
 623              		.align	1
 624              		.global	XMMotorCaliEncoder
 625              		.syntax unified
 626              		.thumb
 627              		.thumb_func
 629              	XMMotorCaliEncoder:
 630              	.LVL57:
 631              	.LFB281:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 18


  79:modules/motor/XMmotor/xmmotor.c ****     // XMMotorSetMode(DM_CMD_ZERO_POSITION, motor);
 632              		.loc 1 79 1 is_stmt 1 view -0
 633              		.cfi_startproc
 634              		@ args = 0, pretend = 0, frame = 0
 635              		@ frame_needed = 0, uses_anonymous_args = 0
 636              		@ link register save eliminated.
  82:modules/motor/XMmotor/xmmotor.c **** XMMotorInstance *XMMotorInit(Motor_Init_Config_s *config)
 637              		.loc 1 82 1 view .LVU210
 638 0000 7047     		bx	lr
 639              		.cfi_endproc
 640              	.LFE281:
 642              		.section	.text.XMMotorSetRef,"ax",%progbits
 643              		.align	1
 644              		.global	XMMotorSetRef
 645              		.syntax unified
 646              		.thumb
 647              		.thumb_func
 649              	XMMotorSetRef:
 650              	.LVL58:
 651              	.LFB283:
 119:modules/motor/XMmotor/xmmotor.c ****     motor->motor_controller.pid_ref = ref;
 652              		.loc 1 119 1 view -0
 653              		.cfi_startproc
 654              		@ args = 0, pretend = 0, frame = 0
 655              		@ frame_needed = 0, uses_anonymous_args = 0
 656              		@ link register save eliminated.
 120:modules/motor/XMmotor/xmmotor.c **** }
 657              		.loc 1 120 5 view .LVU212
 120:modules/motor/XMmotor/xmmotor.c **** }
 658              		.loc 1 120 37 is_stmt 0 view .LVU213
 659 0000 80ED6A0A 		vstr.32	s0, [r0, #424]
 121:modules/motor/XMmotor/xmmotor.c **** 
 660              		.loc 1 121 1 view .LVU214
 661 0004 7047     		bx	lr
 662              		.cfi_endproc
 663              	.LFE283:
 665              		.section	.text.XMMotorChangeFeed,"ax",%progbits
 666              		.align	1
 667              		.global	XMMotorChangeFeed
 668              		.syntax unified
 669              		.thumb
 670              		.thumb_func
 672              	XMMotorChangeFeed:
 673              	.LVL59:
 674              	.LFB284:
 124:modules/motor/XMmotor/xmmotor.c ****     if (loop == ANGLE_LOOP)
 675              		.loc 1 124 1 is_stmt 1 view -0
 676              		.cfi_startproc
 677              		@ args = 0, pretend = 0, frame = 0
 678              		@ frame_needed = 0, uses_anonymous_args = 0
 679              		@ link register save eliminated.
 125:modules/motor/XMmotor/xmmotor.c ****         motor->motor_settings.angle_feedback_source = type;
 680              		.loc 1 125 5 view .LVU216
 125:modules/motor/XMmotor/xmmotor.c ****         motor->motor_settings.angle_feedback_source = type;
 681              		.loc 1 125 8 is_stmt 0 view .LVU217
 682 0000 0429     		cmp	r1, #4
 683 0002 02D0     		beq	.L43
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 19


 127:modules/motor/XMmotor/xmmotor.c ****         motor->motor_settings.speed_feedback_source = type;
 684              		.loc 1 127 10 is_stmt 1 view .LVU218
 127:modules/motor/XMmotor/xmmotor.c ****         motor->motor_settings.speed_feedback_source = type;
 685              		.loc 1 127 13 is_stmt 0 view .LVU219
 686 0004 0229     		cmp	r1, #2
 687 0006 03D0     		beq	.L44
 688              	.L40:
 131:modules/motor/XMmotor/xmmotor.c **** 
 689              		.loc 1 131 1 view .LVU220
 690 0008 7047     		bx	lr
 691              	.L43:
 126:modules/motor/XMmotor/xmmotor.c ****     else if (loop == SPEED_LOOP)
 692              		.loc 1 126 9 is_stmt 1 view .LVU221
 126:modules/motor/XMmotor/xmmotor.c ****     else if (loop == SPEED_LOOP)
 693              		.loc 1 126 53 is_stmt 0 view .LVU222
 694 000a 80F82820 		strb	r2, [r0, #40]
 695 000e 7047     		bx	lr
 696              	.L44:
 128:modules/motor/XMmotor/xmmotor.c ****     else
 697              		.loc 1 128 9 is_stmt 1 view .LVU223
 128:modules/motor/XMmotor/xmmotor.c ****     else
 698              		.loc 1 128 53 is_stmt 0 view .LVU224
 699 0010 80F82920 		strb	r2, [r0, #41]
 131:modules/motor/XMmotor/xmmotor.c **** 
 700              		.loc 1 131 1 view .LVU225
 701 0014 F8E7     		b	.L40
 702              		.cfi_endproc
 703              	.LFE284:
 705              		.section	.text.XMMotorEnable,"ax",%progbits
 706              		.align	1
 707              		.global	XMMotorEnable
 708              		.syntax unified
 709              		.thumb
 710              		.thumb_func
 712              	XMMotorEnable:
 713              	.LVL60:
 714              	.LFB285:
 135:modules/motor/XMmotor/xmmotor.c ****     motor->stop_flag = MOTOR_ENALBED;
 715              		.loc 1 135 1 is_stmt 1 view -0
 716              		.cfi_startproc
 717              		@ args = 0, pretend = 0, frame = 0
 718              		@ frame_needed = 0, uses_anonymous_args = 0
 719              		@ link register save eliminated.
 136:modules/motor/XMmotor/xmmotor.c **** }
 720              		.loc 1 136 5 view .LVU227
 136:modules/motor/XMmotor/xmmotor.c **** }
 721              		.loc 1 136 22 is_stmt 0 view .LVU228
 722 0000 0123     		movs	r3, #1
 723 0002 80F8B031 		strb	r3, [r0, #432]
 137:modules/motor/XMmotor/xmmotor.c **** 
 724              		.loc 1 137 1 view .LVU229
 725 0006 7047     		bx	lr
 726              		.cfi_endproc
 727              	.LFE285:
 729              		.section	.text.XMMotorInit,"ax",%progbits
 730              		.align	1
 731              		.global	XMMotorInit
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 20


 732              		.syntax unified
 733              		.thumb
 734              		.thumb_func
 736              	XMMotorInit:
 737              	.LVL61:
 738              	.LFB282:
  84:modules/motor/XMmotor/xmmotor.c ****     XMMotorInstance *motor = (XMMotorInstance *)malloc(sizeof(XMMotorInstance));
 739              		.loc 1 84 1 is_stmt 1 view -0
 740              		.cfi_startproc
 741              		@ args = 0, pretend = 0, frame = 16
 742              		@ frame_needed = 0, uses_anonymous_args = 0
  84:modules/motor/XMmotor/xmmotor.c ****     XMMotorInstance *motor = (XMMotorInstance *)malloc(sizeof(XMMotorInstance));
 743              		.loc 1 84 1 is_stmt 0 view .LVU231
 744 0000 30B5     		push	{r4, r5, lr}
 745              	.LCFI3:
 746              		.cfi_def_cfa_offset 12
 747              		.cfi_offset 4, -12
 748              		.cfi_offset 5, -8
 749              		.cfi_offset 14, -4
 750 0002 2DED028B 		vpush.64	{d8}
 751              	.LCFI4:
 752              		.cfi_def_cfa_offset 20
 753              		.cfi_offset 80, -20
 754              		.cfi_offset 81, -16
 755 0006 85B0     		sub	sp, sp, #20
 756              	.LCFI5:
 757              		.cfi_def_cfa_offset 40
 758 0008 0546     		mov	r5, r0
  85:modules/motor/XMmotor/xmmotor.c ****     memset(motor, 0, sizeof(XMMotorInstance));
 759              		.loc 1 85 5 is_stmt 1 view .LVU232
  85:modules/motor/XMmotor/xmmotor.c ****     memset(motor, 0, sizeof(XMMotorInstance));
 760              		.loc 1 85 49 is_stmt 0 view .LVU233
 761 000a 4FF4E070 		mov	r0, #448
 762              	.LVL62:
  85:modules/motor/XMmotor/xmmotor.c ****     memset(motor, 0, sizeof(XMMotorInstance));
 763              		.loc 1 85 49 view .LVU234
 764 000e FFF7FEFF 		bl	malloc
 765              	.LVL63:
 766 0012 0446     		mov	r4, r0
 767              	.LVL64:
  86:modules/motor/XMmotor/xmmotor.c ****     
 768              		.loc 1 86 5 is_stmt 1 view .LVU235
 769 0014 4FF4E072 		mov	r2, #448
 770 0018 0021     		movs	r1, #0
 771 001a FFF7FEFF 		bl	memset
 772              	.LVL65:
  88:modules/motor/XMmotor/xmmotor.c ****     PIDInit(&motor->motor_controller.current_PID, &config->controller_param_init_config.current_PID
 773              		.loc 1 88 5 view .LVU236
  88:modules/motor/XMmotor/xmmotor.c ****     PIDInit(&motor->motor_controller.current_PID, &config->controller_param_init_config.current_PID
 774              		.loc 1 88 27 is_stmt 0 view .LVU237
 775 001e 04F12403 		add	r3, r4, #36
 776 0022 05F19402 		add	r2, r5, #148
 777 0026 92E80300 		ldm	r2, {r0, r1}
 778 002a 83E80300 		stm	r3, {r0, r1}
  89:modules/motor/XMmotor/xmmotor.c ****     PIDInit(&motor->motor_controller.speed_PID, &config->controller_param_init_config.speed_PID);
 779              		.loc 1 89 5 is_stmt 1 view .LVU238
 780 002e 05F11001 		add	r1, r5, #16
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 21


 781 0032 04F14000 		add	r0, r4, #64
 782 0036 FFF7FEFF 		bl	PIDInit
 783              	.LVL66:
  90:modules/motor/XMmotor/xmmotor.c ****     PIDInit(&motor->motor_controller.angle_PID, &config->controller_param_init_config.angle_PID);
 784              		.loc 1 90 5 view .LVU239
 785 003a 05F13C01 		add	r1, r5, #60
 786 003e 04F1B800 		add	r0, r4, #184
 787 0042 FFF7FEFF 		bl	PIDInit
 788              	.LVL67:
  91:modules/motor/XMmotor/xmmotor.c ****     motor->motor_controller.other_angle_feedback_ptr = config->controller_param_init_config.other_a
 789              		.loc 1 91 5 view .LVU240
 790 0046 05F16801 		add	r1, r5, #104
 791 004a 04F59870 		add	r0, r4, #304
 792 004e FFF7FEFF 		bl	PIDInit
 793              	.LVL68:
  92:modules/motor/XMmotor/xmmotor.c ****     motor->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.other_s
 794              		.loc 1 92 5 view .LVU241
  92:modules/motor/XMmotor/xmmotor.c ****     motor->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.other_s
 795              		.loc 1 92 92 is_stmt 0 view .LVU242
 796 0052 2B68     		ldr	r3, [r5]
  92:modules/motor/XMmotor/xmmotor.c ****     motor->motor_controller.other_speed_feedback_ptr = config->controller_param_init_config.other_s
 797              		.loc 1 92 54 view .LVU243
 798 0054 2363     		str	r3, [r4, #48]
  93:modules/motor/XMmotor/xmmotor.c **** 
 799              		.loc 1 93 5 is_stmt 1 view .LVU244
  93:modules/motor/XMmotor/xmmotor.c **** 
 800              		.loc 1 93 92 is_stmt 0 view .LVU245
 801 0056 6B68     		ldr	r3, [r5, #4]
  93:modules/motor/XMmotor/xmmotor.c **** 
 802              		.loc 1 93 54 view .LVU246
 803 0058 6363     		str	r3, [r4, #52]
  95:modules/motor/XMmotor/xmmotor.c ****     config->can_init_config.id = motor;
 804              		.loc 1 95 5 is_stmt 1 view .LVU247
  95:modules/motor/XMmotor/xmmotor.c ****     config->can_init_config.id = motor;
 805              		.loc 1 95 49 is_stmt 0 view .LVU248
 806 005a 1F4B     		ldr	r3, .L48
 807 005c C5F8B430 		str	r3, [r5, #180]
  96:modules/motor/XMmotor/xmmotor.c ****     config->can_init_config.mode = CAN_ID_EXT; // ÂºÄÂêØÊãìÂ±ïÂ∏ß
 808              		.loc 1 96 5 is_stmt 1 view .LVU249
  96:modules/motor/XMmotor/xmmotor.c ****     config->can_init_config.mode = CAN_ID_EXT; // ÂºÄÂêØÊãìÂ±ïÂ∏ß
 809              		.loc 1 96 32 is_stmt 0 view .LVU250
 810 0060 C5F8B840 		str	r4, [r5, #184]
  97:modules/motor/XMmotor/xmmotor.c ****     motor->motor_can_instace = CANRegister(&config->can_init_config);
 811              		.loc 1 97 5 is_stmt 1 view .LVU251
  97:modules/motor/XMmotor/xmmotor.c ****     motor->motor_can_instace = CANRegister(&config->can_init_config);
 812              		.loc 1 97 34 is_stmt 0 view .LVU252
 813 0064 0423     		movs	r3, #4
 814 0066 C5F8B030 		str	r3, [r5, #176]
  98:modules/motor/XMmotor/xmmotor.c **** 
 815              		.loc 1 98 5 is_stmt 1 view .LVU253
  98:modules/motor/XMmotor/xmmotor.c **** 
 816              		.loc 1 98 32 is_stmt 0 view .LVU254
 817 006a 05F1A000 		add	r0, r5, #160
 818 006e FFF7FEFF 		bl	CANRegister
 819              	.LVL69:
  98:modules/motor/XMmotor/xmmotor.c **** 
 820              		.loc 1 98 30 discriminator 1 view .LVU255
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 22


 821 0072 C4F8B401 		str	r0, [r4, #436]
 100:modules/motor/XMmotor/xmmotor.c **** 
 822              		.loc 1 100 5 is_stmt 1 view .LVU256
 823 0076 2046     		mov	r0, r4
 824 0078 FFF7FEFF 		bl	XMMotorEnable
 825              	.LVL70:
 102:modules/motor/XMmotor/xmmotor.c ****     DWT_Delay(0.1);
 826              		.loc 1 102 5 view .LVU257
 827 007c 2146     		mov	r1, r4
 828 007e 1220     		movs	r0, #18
 829 0080 FFF7FEFF 		bl	XMMotorSetMode
 830              	.LVL71:
 103:modules/motor/XMmotor/xmmotor.c ****     XMMotorSetMode(XM_CMD_MOTOR_MODE, motor);       // ‰ΩøËÉΩÁîµÊú∫    
 831              		.loc 1 103 5 view .LVU258
 832 0084 9FED158A 		vldr.32	s16, .L48+4
 833 0088 B0EE480A 		vmov.f32	s0, s16
 834 008c FFF7FEFF 		bl	DWT_Delay
 835              	.LVL72:
 104:modules/motor/XMmotor/xmmotor.c ****     DWT_Delay(0.1);
 836              		.loc 1 104 5 view .LVU259
 837 0090 2146     		mov	r1, r4
 838 0092 0320     		movs	r0, #3
 839 0094 FFF7FEFF 		bl	XMMotorSetMode
 840              	.LVL73:
 105:modules/motor/XMmotor/xmmotor.c **** 
 841              		.loc 1 105 5 view .LVU260
 842 0098 B0EE480A 		vmov.f32	s0, s16
 843 009c FFF7FEFF 		bl	DWT_Delay
 844              	.LVL74:
 107:modules/motor/XMmotor/xmmotor.c ****         .callback = XMMotorLostCallback,   
 845              		.loc 1 107 5 view .LVU261
 107:modules/motor/XMmotor/xmmotor.c ****         .callback = XMMotorLostCallback,   
 846              		.loc 1 107 26 is_stmt 0 view .LVU262
 847 00a0 0023     		movs	r3, #0
 848 00a2 0193     		str	r3, [sp, #4]
 849 00a4 0293     		str	r3, [sp, #8]
 850 00a6 0393     		str	r3, [sp, #12]
 851 00a8 0523     		movs	r3, #5
 852 00aa ADF80430 		strh	r3, [sp, #4]	@ movhi
 853 00ae 0C4B     		ldr	r3, .L48+8
 854 00b0 0293     		str	r3, [sp, #8]
 855 00b2 0394     		str	r4, [sp, #12]
 112:modules/motor/XMmotor/xmmotor.c **** 
 856              		.loc 1 112 5 is_stmt 1 view .LVU263
 112:modules/motor/XMmotor/xmmotor.c **** 
 857              		.loc 1 112 27 is_stmt 0 view .LVU264
 858 00b4 01A8     		add	r0, sp, #4
 859 00b6 FFF7FEFF 		bl	DaemonRegister
 860              	.LVL75:
 112:modules/motor/XMmotor/xmmotor.c **** 
 861              		.loc 1 112 25 discriminator 1 view .LVU265
 862 00ba C4F8B801 		str	r0, [r4, #440]
 114:modules/motor/XMmotor/xmmotor.c ****     return motor;
 863              		.loc 1 114 5 is_stmt 1 view .LVU266
 114:modules/motor/XMmotor/xmmotor.c ****     return motor;
 864              		.loc 1 114 26 is_stmt 0 view .LVU267
 865 00be 094A     		ldr	r2, .L48+12
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 23


 866 00c0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 867 00c2 591C     		adds	r1, r3, #1
 868 00c4 1170     		strb	r1, [r2]
 114:modules/motor/XMmotor/xmmotor.c ****     return motor;
 869              		.loc 1 114 30 view .LVU268
 870 00c6 084A     		ldr	r2, .L48+16
 871 00c8 42F82340 		str	r4, [r2, r3, lsl #2]
 115:modules/motor/XMmotor/xmmotor.c **** }
 872              		.loc 1 115 5 is_stmt 1 view .LVU269
 116:modules/motor/XMmotor/xmmotor.c **** 
 873              		.loc 1 116 1 is_stmt 0 view .LVU270
 874 00cc 2046     		mov	r0, r4
 875 00ce 05B0     		add	sp, sp, #20
 876              	.LCFI6:
 877              		.cfi_def_cfa_offset 20
 878              		@ sp needed
 879 00d0 BDEC028B 		vldm	sp!, {d8}
 880              	.LCFI7:
 881              		.cfi_restore 80
 882              		.cfi_restore 81
 883              		.cfi_def_cfa_offset 12
 884 00d4 30BD     		pop	{r4, r5, pc}
 885              	.LVL76:
 886              	.L49:
 116:modules/motor/XMmotor/xmmotor.c **** 
 887              		.loc 1 116 1 view .LVU271
 888 00d6 00BF     		.align	2
 889              	.L48:
 890 00d8 00000000 		.word	XMMotorDecode
 891 00dc CDCCCC3D 		.word	1036831949
 892 00e0 00000000 		.word	XMMotorLostCallback
 893 00e4 00000000 		.word	idx
 894 00e8 00000000 		.word	xm_motor_instance
 895              		.cfi_endproc
 896              	.LFE282:
 898              		.section	.text.XMMotorStop,"ax",%progbits
 899              		.align	1
 900              		.global	XMMotorStop
 901              		.syntax unified
 902              		.thumb
 903              		.thumb_func
 905              	XMMotorStop:
 906              	.LVL77:
 907              	.LFB286:
 140:modules/motor/XMmotor/xmmotor.c ****     motor->stop_flag = MOTOR_STOP;
 908              		.loc 1 140 1 is_stmt 1 view -0
 909              		.cfi_startproc
 910              		@ args = 0, pretend = 0, frame = 0
 911              		@ frame_needed = 0, uses_anonymous_args = 0
 912              		@ link register save eliminated.
 141:modules/motor/XMmotor/xmmotor.c **** }
 913              		.loc 1 141 5 view .LVU273
 141:modules/motor/XMmotor/xmmotor.c **** }
 914              		.loc 1 141 22 is_stmt 0 view .LVU274
 915 0000 0023     		movs	r3, #0
 916 0002 80F8B031 		strb	r3, [r0, #432]
 142:modules/motor/XMmotor/xmmotor.c **** 
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 24


 917              		.loc 1 142 1 view .LVU275
 918 0006 7047     		bx	lr
 919              		.cfi_endproc
 920              	.LFE286:
 922              		.section	.text.XMMotorOuterLoop,"ax",%progbits
 923              		.align	1
 924              		.global	XMMotorOuterLoop
 925              		.syntax unified
 926              		.thumb
 927              		.thumb_func
 929              	XMMotorOuterLoop:
 930              	.LVL78:
 931              	.LFB287:
 145:modules/motor/XMmotor/xmmotor.c ****     motor->motor_settings.outer_loop_type = type;
 932              		.loc 1 145 1 is_stmt 1 view -0
 933              		.cfi_startproc
 934              		@ args = 0, pretend = 0, frame = 0
 935              		@ frame_needed = 0, uses_anonymous_args = 0
 936              		@ link register save eliminated.
 146:modules/motor/XMmotor/xmmotor.c **** }
 937              		.loc 1 146 5 view .LVU277
 146:modules/motor/XMmotor/xmmotor.c **** }
 938              		.loc 1 146 43 is_stmt 0 view .LVU278
 939 0000 80F82410 		strb	r1, [r0, #36]
 147:modules/motor/XMmotor/xmmotor.c **** 
 940              		.loc 1 147 1 view .LVU279
 941 0004 7047     		bx	lr
 942              		.cfi_endproc
 943              	.LFE287:
 945              		.section	.text.XMMotorControlInit,"ax",%progbits
 946              		.align	1
 947              		.global	XMMotorControlInit
 948              		.syntax unified
 949              		.thumb
 950              		.thumb_func
 952              	XMMotorControlInit:
 953              	.LFB289:
 222:modules/motor/XMmotor/xmmotor.c ****     }
 223:modules/motor/XMmotor/xmmotor.c **** }
 224:modules/motor/XMmotor/xmmotor.c **** void XMMotorControlInit()
 225:modules/motor/XMmotor/xmmotor.c **** {
 954              		.loc 1 225 1 is_stmt 1 view -0
 955              		.cfi_startproc
 956              		@ args = 0, pretend = 0, frame = 40
 957              		@ frame_needed = 0, uses_anonymous_args = 0
 958 0000 30B5     		push	{r4, r5, lr}
 959              	.LCFI8:
 960              		.cfi_def_cfa_offset 12
 961              		.cfi_offset 4, -12
 962              		.cfi_offset 5, -8
 963              		.cfi_offset 14, -4
 964 0002 8BB0     		sub	sp, sp, #44
 965              	.LCFI9:
 966              		.cfi_def_cfa_offset 56
 226:modules/motor/XMmotor/xmmotor.c ****     char xm_task_name[5] = "xm";
 967              		.loc 1 226 5 view .LVU281
 968              		.loc 1 226 10 is_stmt 0 view .LVU282
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 25


 969 0004 46F67853 		movw	r3, #28024
 970 0008 0893     		str	r3, [sp, #32]
 971 000a 0023     		movs	r3, #0
 972 000c 8DF82430 		strb	r3, [sp, #36]
 227:modules/motor/XMmotor/xmmotor.c ****     // ÈÅçÂéÜÊâÄÊúâÁîµÊú∫ÂÆû‰æã,ÂàõÂª∫‰ªªÂä°
 228:modules/motor/XMmotor/xmmotor.c ****     if (!idx)
 973              		.loc 1 228 5 is_stmt 1 view .LVU283
 974              		.loc 1 228 9 is_stmt 0 view .LVU284
 975 0010 154B     		ldr	r3, .L58
 976 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 977              		.loc 1 228 8 view .LVU285
 978 0014 2BB3     		cbz	r3, .L52
 979              	.LBB2:
 229:modules/motor/XMmotor/xmmotor.c ****         return;
 230:modules/motor/XMmotor/xmmotor.c ****     for (size_t i = 0; i < idx; i++)
 980              		.loc 1 230 17 view .LVU286
 981 0016 0025     		movs	r5, #0
 982 0018 1FE0     		b	.L53
 983              	.LVL79:
 984              	.L55:
 985              	.LBB3:
 231:modules/motor/XMmotor/xmmotor.c ****     {
 232:modules/motor/XMmotor/xmmotor.c ****         char xm_id_buff[2] = {0};
 986              		.loc 1 232 9 is_stmt 1 view .LVU287
 987              		.loc 1 232 14 is_stmt 0 view .LVU288
 988 001a 0023     		movs	r3, #0
 989 001c ADF80030 		strh	r3, [sp]	@ movhi
 233:modules/motor/XMmotor/xmmotor.c ****         __itoa(i, xm_id_buff, 10);
 990              		.loc 1 233 9 is_stmt 1 view .LVU289
 991 0020 0A22     		movs	r2, #10
 992 0022 6946     		mov	r1, sp
 993 0024 2846     		mov	r0, r5
 994 0026 FFF7FEFF 		bl	__itoa
 995              	.LVL80:
 234:modules/motor/XMmotor/xmmotor.c ****         strcat(xm_task_name, xm_id_buff);
 996              		.loc 1 234 9 view .LVU290
 997 002a 6946     		mov	r1, sp
 998 002c 08A8     		add	r0, sp, #32
 999 002e FFF7FEFF 		bl	strcat
 1000              	.LVL81:
 235:modules/motor/XMmotor/xmmotor.c ****         osThreadDef(xm_task_name, XMMotorTask, osPriorityNormal, 0, 128);
 1001              		.loc 1 235 9 view .LVU291
 1002 0032 0DF1040C 		add	ip, sp, #4
 1003 0036 0D4C     		ldr	r4, .L58+4
 1004 0038 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 1005 003a ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 1006 003e 94E80700 		ldm	r4, {r0, r1, r2}
 1007 0042 8CE80700 		stm	ip, {r0, r1, r2}
 236:modules/motor/XMmotor/xmmotor.c ****         xm_task_handle[i] = osThreadCreate(osThread(xm_task_name), xm_motor_instance[i]);
 1008              		.loc 1 236 9 view .LVU292
 1009              		.loc 1 236 29 is_stmt 0 view .LVU293
 1010 0046 0A4B     		ldr	r3, .L58+8
 1011 0048 53F82510 		ldr	r1, [r3, r5, lsl #2]
 1012 004c 01A8     		add	r0, sp, #4
 1013 004e FFF7FEFF 		bl	osThreadCreate
 1014              	.LVL82:
 1015              		.loc 1 236 27 discriminator 1 view .LVU294
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 26


 1016 0052 084B     		ldr	r3, .L58+12
 1017 0054 43F82500 		str	r0, [r3, r5, lsl #2]
 1018              	.LBE3:
 230:modules/motor/XMmotor/xmmotor.c ****     {
 1019              		.loc 1 230 34 is_stmt 1 discriminator 3 view .LVU295
 1020 0058 0135     		adds	r5, r5, #1
 1021              	.LVL83:
 1022              	.L53:
 230:modules/motor/XMmotor/xmmotor.c ****     {
 1023              		.loc 1 230 26 discriminator 1 view .LVU296
 1024 005a 034B     		ldr	r3, .L58
 1025 005c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1026 005e AB42     		cmp	r3, r5
 1027 0060 DBD8     		bhi	.L55
 1028              	.LVL84:
 1029              	.L52:
 230:modules/motor/XMmotor/xmmotor.c ****     {
 1030              		.loc 1 230 26 is_stmt 0 discriminator 1 view .LVU297
 1031              	.LBE2:
 237:modules/motor/XMmotor/xmmotor.c ****     }
 238:modules/motor/XMmotor/xmmotor.c **** }...
 1032              		.loc 1 238 1 view .LVU298
 1033 0062 0BB0     		add	sp, sp, #44
 1034              	.LCFI10:
 1035              		.cfi_def_cfa_offset 12
 1036              		@ sp needed
 1037 0064 30BD     		pop	{r4, r5, pc}
 1038              	.L59:
 1039 0066 00BF     		.align	2
 1040              	.L58:
 1041 0068 00000000 		.word	idx
 1042 006c 00000000 		.word	.LANCHOR0
 1043 0070 00000000 		.word	xm_motor_instance
 1044 0074 00000000 		.word	xm_task_handle
 1045              		.cfi_endproc
 1046              	.LFE289:
 1048              		.section	.rodata.str1.4,"aMS",%progbits,1
 1049              		.align	2
 1050              	.LC0:
 1051 0000 786D5F74 		.ascii	"xm_task_name\000"
 1051      61736B5F 
 1051      6E616D65 
 1051      00
 1052              		.section	.bss.xm_task_handle,"aw",%nobits
 1053              		.align	2
 1056              	xm_task_handle:
 1057 0000 00000000 		.space	16
 1057      00000000 
 1057      00000000 
 1057      00000000 
 1058              		.section	.bss.xm_motor_instance,"aw",%nobits
 1059              		.align	2
 1062              	xm_motor_instance:
 1063 0000 00000000 		.space	16
 1063      00000000 
 1063      00000000 
 1063      00000000 
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 27


 1064              		.section	.bss.idx,"aw",%nobits
 1067              	idx:
 1068 0000 00       		.space	1
 1069              		.section	.rodata
 1070              		.align	2
 1071              		.set	.LANCHOR0,. + 0
 1072              	.LC2:
 1073 0000 00000000 		.word	.LC0
 1074 0004 00000000 		.word	XMMotorTask
 1075 0008 0000     		.short	0
 1076 000a 0000     		.space	2
 1077 000c 00000000 		.word	0
 1078 0010 80000000 		.word	128
 1079 0014 00000000 		.word	0
 1080 0018 00000000 		.word	0
 1081              		.text
 1082              	.Letext0:
 1083              		.file 2 "D:/Msys2/mingw64/arm-none-eabi/include/machine/_default_types.h"
 1084              		.file 3 "D:/Msys2/mingw64/arm-none-eabi/include/sys/_stdint.h"
 1085              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 1086              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1087              		.file 6 "D:/Msys2/mingw64/lib/gcc/arm-none-eabi/13.3.0/include/stddef.h"
 1088              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 1089              		.file 8 "bsp/can/bsp_can.h"
 1090              		.file 9 "modules/algorithm/controller.h"
 1091              		.file 10 "modules/motor/motor_def.h"
 1092              		.file 11 "modules/daemon/daemon.h"
 1093              		.file 12 "modules/motor/XMmotor/xmmotor.h"
 1094              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
 1095              		.file 14 "Middlewares/Third_Party/FreeRTOS/Source/include/FreeRTOS.h"
 1096              		.file 15 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 1097              		.file 16 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 1098              		.file 17 "D:/Msys2/mingw64/arm-none-eabi/include/string.h"
 1099              		.file 18 "D:/Msys2/mingw64/arm-none-eabi/include/stdlib.h"
 1100              		.file 19 "bsp/dwt/bsp_dwt.h"
 1101              		.file 20 "<built-in>"
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 28


DEFINED SYMBOLS
                            *ABS*:00000000 xmmotor.c
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:21     .text.uint16_to_float:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:26     .text.uint16_to_float:00000000 uint16_to_float
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:64     .text.XMMotorLostCallback:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:69     .text.XMMotorLostCallback:00000000 XMMotorLostCallback
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:86     .text.XMMotorDecode:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:91     .text.XMMotorDecode:00000000 XMMotorDecode
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:209    .text.XMMotorDecode:000000a0 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:217    .text.XMMotorSetMode:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:222    .text.XMMotorSetMode:00000000 XMMotorSetMode
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:321    .text.XMMotorTask:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:327    .text.XMMotorTask:00000000 XMMotorTask
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:618    .text.XMMotorTask:00000178 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:623    .text.XMMotorCaliEncoder:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:629    .text.XMMotorCaliEncoder:00000000 XMMotorCaliEncoder
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:643    .text.XMMotorSetRef:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:649    .text.XMMotorSetRef:00000000 XMMotorSetRef
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:666    .text.XMMotorChangeFeed:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:672    .text.XMMotorChangeFeed:00000000 XMMotorChangeFeed
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:706    .text.XMMotorEnable:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:712    .text.XMMotorEnable:00000000 XMMotorEnable
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:730    .text.XMMotorInit:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:736    .text.XMMotorInit:00000000 XMMotorInit
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:890    .text.XMMotorInit:000000d8 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:1067   .bss.idx:00000000 idx
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:1062   .bss.xm_motor_instance:00000000 xm_motor_instance
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:899    .text.XMMotorStop:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:905    .text.XMMotorStop:00000000 XMMotorStop
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:923    .text.XMMotorOuterLoop:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:929    .text.XMMotorOuterLoop:00000000 XMMotorOuterLoop
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:946    .text.XMMotorControlInit:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:952    .text.XMMotorControlInit:00000000 XMMotorControlInit
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:1041   .text.XMMotorControlInit:00000068 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:1056   .bss.xm_task_handle:00000000 xm_task_handle
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:1049   .rodata.str1.4:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:1053   .bss.xm_task_handle:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:1059   .bss.xm_motor_instance:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:1068   .bss.idx:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s:1070   .rodata:00000000 $d

UNDEFINED SYMBOLS
__aeabi_f2d
__aeabi_dmul
__aeabi_d2f
DaemonReload
CANTransmit
PIDCalculate
osDelay
malloc
memset
PIDInit
CANRegister
DWT_Delay
DaemonRegister
__itoa
strcat
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccDC3eZx.s 			page 29


osThreadCreate
