ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"gimbal.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "application/gimbal/gimbal.c"
  20              		.section	.rodata.GimbalInit.str1.4,"aMS",%progbits,1
  21              		.align	2
  22              	.LC0:
  23 0000 67696D62 		.ascii	"gimbal_feed\000"
  23      616C5F66 
  23      65656400 
  24              		.align	2
  25              	.LC1:
  26 000c 67696D62 		.ascii	"gimbal_cmd\000"
  26      616C5F63 
  26      6D6400
  27              		.section	.text.GimbalInit,"ax",%progbits
  28              		.align	1
  29              		.global	GimbalInit
  30              		.syntax unified
  31              		.thumb
  32              		.thumb_func
  34              	GimbalInit:
  35              	.LFB271:
   1:application/gimbal/gimbal.c **** #include "gimbal.h"
   2:application/gimbal/gimbal.c **** #include "robot_def.h"
   3:application/gimbal/gimbal.c **** 
   4:application/gimbal/gimbal.c **** #include "dji_motor.h"
   5:application/gimbal/gimbal.c **** #include "xmmotor.h"
   6:application/gimbal/gimbal.c **** 
   7:application/gimbal/gimbal.c **** #include "ins_task.h"
   8:application/gimbal/gimbal.c **** #include "message_center.h"
   9:application/gimbal/gimbal.c **** #include "general_def.h"
  10:application/gimbal/gimbal.c **** #include "bmi088.h"
  11:application/gimbal/gimbal.c **** 
  12:application/gimbal/gimbal.c **** static Gimbal_Config_s *gimbal_config;
  13:application/gimbal/gimbal.c **** 
  14:application/gimbal/gimbal.c **** static attitude_t *gimba_IMU_data; // äº‘å°IMUæ•°æ®
  15:application/gimbal/gimbal.c **** static DJIMotorInstance *yaw_motor, *mini_yaw_motor, *pitch_motor;
  16:application/gimbal/gimbal.c **** static XMMotorInstance *pitch_xmmotor;
  17:application/gimbal/gimbal.c **** 
  18:application/gimbal/gimbal.c **** static Publisher_t *gimbal_pub;                   // äº‘å°åº”ç”¨æ¶ˆæ¯å‘å¸ƒè€…(äº‘å°åé¦ˆç»™cmd
  19:application/gimbal/gimbal.c **** static Subscriber_t *gimbal_sub;                  // cmdæŽ§åˆ¶æ¶ˆæ¯è®¢é˜…è€…
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 2


  20:application/gimbal/gimbal.c **** static Gimbal_Upload_Data_s gimbal_feedback_data; // å›žä¼ ç»™cmdçš„äº‘å°çŠ¶æ€ä¿¡æ¯
  21:application/gimbal/gimbal.c **** static Gimbal_Ctrl_Cmd_s gimbal_cmd_recv;         // æ¥è‡ªcmdçš„æŽ§åˆ¶ä¿¡æ¯
  22:application/gimbal/gimbal.c **** 
  23:application/gimbal/gimbal.c **** static BMI088Instance *bmi088; // äº‘å°IMU
  24:application/gimbal/gimbal.c **** void GimbalInit()
  25:application/gimbal/gimbal.c **** {   
  36              		.loc 1 25 1 view -0
  37              		.cfi_startproc
  38              		@ args = 0, pretend = 0, frame = 0
  39              		@ frame_needed = 0, uses_anonymous_args = 0
  40 0000 38B5     		push	{r3, r4, r5, lr}
  41              	.LCFI0:
  42              		.cfi_def_cfa_offset 16
  43              		.cfi_offset 3, -16
  44              		.cfi_offset 4, -12
  45              		.cfi_offset 5, -8
  46              		.cfi_offset 14, -4
  26:application/gimbal/gimbal.c ****     gimba_IMU_data = INS_Init(); // IMUå…ˆåˆå§‹åŒ–,èŽ·å–å§¿æ€æ•°æ®æŒ‡é’ˆèµ‹ç»™yawç”µæœºçš„å…¶ä»
  47              		.loc 1 26 5 view .LVU1
  48              		.loc 1 26 22 is_stmt 0 view .LVU2
  49 0002 FFF7FEFF 		bl	INS_Init
  50              	.LVL0:
  51              		.loc 1 26 20 discriminator 1 view .LVU3
  52 0006 224D     		ldr	r5, .L8
  53 0008 2860     		str	r0, [r5]
  27:application/gimbal/gimbal.c **** 
  28:application/gimbal/gimbal.c ****     gimbal_config = GimbalConfigFeed();
  54              		.loc 1 28 5 is_stmt 1 view .LVU4
  55              		.loc 1 28 21 is_stmt 0 view .LVU5
  56 000a FFF7FEFF 		bl	GimbalConfigFeed
  57              	.LVL1:
  58              		.loc 1 28 19 discriminator 1 view .LVU6
  59 000e 214C     		ldr	r4, .L8+4
  60 0010 2060     		str	r0, [r4]
  29:application/gimbal/gimbal.c ****   
  30:application/gimbal/gimbal.c ****     // yawè½´åˆå§‹åŒ–
  31:application/gimbal/gimbal.c ****     gimbal_config->yaw_motor_config.controller_param_init_config.other_angle_feedback_ptr = &gimba_
  61              		.loc 1 31 5 is_stmt 1 view .LVU7
  62              		.loc 1 31 108 is_stmt 0 view .LVU8
  63 0012 2B68     		ldr	r3, [r5]
  64              		.loc 1 31 93 view .LVU9
  65 0014 03F12402 		add	r2, r3, #36
  66              		.loc 1 31 91 view .LVU10
  67 0018 4261     		str	r2, [r0, #20]
  32:application/gimbal/gimbal.c ****     gimbal_config->yaw_motor_config.controller_param_init_config.other_speed_feedback_ptr = &gimba_
  68              		.loc 1 32 5 is_stmt 1 view .LVU11
  69              		.loc 1 32 93 is_stmt 0 view .LVU12
  70 001a 0833     		adds	r3, r3, #8
  71              		.loc 1 32 91 view .LVU13
  72 001c 8361     		str	r3, [r0, #24]
  33:application/gimbal/gimbal.c ****     yaw_motor = DJIMotorInit(&gimbal_config->yaw_motor_config);
  73              		.loc 1 33 5 is_stmt 1 view .LVU14
  74              		.loc 1 33 17 is_stmt 0 view .LVU15
  75 001e 1430     		adds	r0, r0, #20
  76 0020 FFF7FEFF 		bl	DJIMotorInit
  77              	.LVL2:
  78              		.loc 1 33 15 discriminator 1 view .LVU16
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 3


  79 0024 1C4B     		ldr	r3, .L8+8
  80 0026 1860     		str	r0, [r3]
  34:application/gimbal/gimbal.c ****     
  35:application/gimbal/gimbal.c ****     // å°yawè½´åˆå§‹åŒ–
  36:application/gimbal/gimbal.c ****     if (gimbal_config->gimbal_type == MINI_GIMBAL)
  81              		.loc 1 36 5 is_stmt 1 view .LVU17
  82              		.loc 1 36 22 is_stmt 0 view .LVU18
  83 0028 2068     		ldr	r0, [r4]
  84 002a 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  85              		.loc 1 36 8 view .LVU19
  86 002c 012B     		cmp	r3, #1
  87 002e 16D0     		beq	.L7
  88              	.L2:
  37:application/gimbal/gimbal.c ****         mini_yaw_motor = DJIMotorInit(&gimbal_config->mini_yaw_motor_config);
  38:application/gimbal/gimbal.c ****     
  39:application/gimbal/gimbal.c **** #ifdef _IS_IMU_ROLL
  40:application/gimbal/gimbal.c ****     // PITCH
  41:application/gimbal/gimbal.c ****     gimbal_config->pitch_motor_config.controller_param_init_config.other_angle_feedback_ptr = &gimb
  42:application/gimbal/gimbal.c ****     gimbal_config->pitch_motor_config.controller_param_init_config.other_speed_feedback_ptr = &gimb
  43:application/gimbal/gimbal.c **** #else
  44:application/gimbal/gimbal.c ****     // PITCH
  45:application/gimbal/gimbal.c ****     gimbal_config->pitch_motor_config.controller_param_init_config.other_angle_feedback_ptr = &gimb
  89              		.loc 1 45 5 is_stmt 1 view .LVU20
  90              		.loc 1 45 110 is_stmt 0 view .LVU21
  91 0030 174B     		ldr	r3, .L8
  92 0032 1B68     		ldr	r3, [r3]
  93              		.loc 1 45 18 view .LVU22
  94 0034 174A     		ldr	r2, .L8+4
  95 0036 1068     		ldr	r0, [r2]
  96              		.loc 1 45 95 view .LVU23
  97 0038 03F11C02 		add	r2, r3, #28
  98              		.loc 1 45 93 view .LVU24
  99 003c C0F88C21 		str	r2, [r0, #396]
  46:application/gimbal/gimbal.c ****     gimbal_config->pitch_motor_config.controller_param_init_config.other_speed_feedback_ptr = &gimb
 100              		.loc 1 46 5 is_stmt 1 view .LVU25
 101              		.loc 1 46 93 is_stmt 0 view .LVU26
 102 0040 C0F89031 		str	r3, [r0, #400]
  47:application/gimbal/gimbal.c **** #endif
  48:application/gimbal/gimbal.c **** 
  49:application/gimbal/gimbal.c ****     // ç”µæœºå¯¹total_angleé—­çŽ¯,ä¸Šç”µæ—¶ä¸ºé›¶,ä¼šä¿æŒé™æ­¢,æ”¶åˆ°é¥æŽ§å™¨æ•°æ®å†åŠ¨
  50:application/gimbal/gimbal.c ****     switch (gimbal_config->pitch_motor_config.motor_type)
 103              		.loc 1 50 5 is_stmt 1 view .LVU27
 104              		.loc 1 50 46 is_stmt 0 view .LVU28
 105 0044 90F82832 		ldrb	r3, [r0, #552]	@ zero_extendqisi2
 106              		.loc 1 50 5 view .LVU29
 107 0048 012B     		cmp	r3, #1
 108 004a 0ED0     		beq	.L3
 109 004c 072B     		cmp	r3, #7
 110 004e 12D1     		bne	.L5
  51:application/gimbal/gimbal.c ****     {
  52:application/gimbal/gimbal.c ****     case GM6020:
  53:application/gimbal/gimbal.c ****         pitch_motor = DJIMotorInit(&gimbal_config->pitch_motor_config);
  54:application/gimbal/gimbal.c ****         break;
  55:application/gimbal/gimbal.c ****     case XMCY:
  56:application/gimbal/gimbal.c ****         pitch_xmmotor = XMMotorInit(&gimbal_config->pitch_motor_config);
 111              		.loc 1 56 9 is_stmt 1 view .LVU30
 112              		.loc 1 56 25 is_stmt 0 view .LVU31
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 4


 113 0050 00F5C670 		add	r0, r0, #396
 114 0054 FFF7FEFF 		bl	XMMotorInit
 115              	.LVL3:
 116              		.loc 1 56 23 discriminator 1 view .LVU32
 117 0058 104B     		ldr	r3, .L8+12
 118 005a 1860     		str	r0, [r3]
  57:application/gimbal/gimbal.c ****         break;
 119              		.loc 1 57 9 is_stmt 1 view .LVU33
 120 005c 0BE0     		b	.L5
 121              	.L7:
  37:application/gimbal/gimbal.c ****     
 122              		.loc 1 37 9 view .LVU34
  37:application/gimbal/gimbal.c ****     
 123              		.loc 1 37 26 is_stmt 0 view .LVU35
 124 005e D030     		adds	r0, r0, #208
 125 0060 FFF7FEFF 		bl	DJIMotorInit
 126              	.LVL4:
  37:application/gimbal/gimbal.c ****     
 127              		.loc 1 37 24 discriminator 1 view .LVU36
 128 0064 0E4B     		ldr	r3, .L8+16
 129 0066 1860     		str	r0, [r3]
 130 0068 E2E7     		b	.L2
 131              	.L3:
  53:application/gimbal/gimbal.c ****         break;
 132              		.loc 1 53 9 is_stmt 1 view .LVU37
  53:application/gimbal/gimbal.c ****         break;
 133              		.loc 1 53 23 is_stmt 0 view .LVU38
 134 006a 00F5C670 		add	r0, r0, #396
 135 006e FFF7FEFF 		bl	DJIMotorInit
 136              	.LVL5:
  53:application/gimbal/gimbal.c ****         break;
 137              		.loc 1 53 21 discriminator 1 view .LVU39
 138 0072 0C4B     		ldr	r3, .L8+20
 139 0074 1860     		str	r0, [r3]
  54:application/gimbal/gimbal.c ****     case XMCY:
 140              		.loc 1 54 9 is_stmt 1 view .LVU40
 141              	.L5:
  58:application/gimbal/gimbal.c ****     default:
  59:application/gimbal/gimbal.c ****         break;
  60:application/gimbal/gimbal.c ****     }
  61:application/gimbal/gimbal.c **** 
  62:application/gimbal/gimbal.c ****     gimbal_pub = PubRegister("gimbal_feed", sizeof(Gimbal_Upload_Data_s));
 142              		.loc 1 62 5 view .LVU41
 143              		.loc 1 62 18 is_stmt 0 view .LVU42
 144 0076 2C21     		movs	r1, #44
 145 0078 0B48     		ldr	r0, .L8+24
 146 007a FFF7FEFF 		bl	PubRegister
 147              	.LVL6:
 148              		.loc 1 62 16 discriminator 1 view .LVU43
 149 007e 0B4B     		ldr	r3, .L8+28
 150 0080 1860     		str	r0, [r3]
  63:application/gimbal/gimbal.c ****     gimbal_sub = SubRegister("gimbal_cmd", sizeof(Gimbal_Ctrl_Cmd_s));
 151              		.loc 1 63 5 is_stmt 1 view .LVU44
 152              		.loc 1 63 18 is_stmt 0 view .LVU45
 153 0082 1121     		movs	r1, #17
 154 0084 0A48     		ldr	r0, .L8+32
 155 0086 FFF7FEFF 		bl	SubRegister
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 5


 156              	.LVL7:
 157              		.loc 1 63 16 discriminator 1 view .LVU46
 158 008a 0A4B     		ldr	r3, .L8+36
 159 008c 1860     		str	r0, [r3]
  64:application/gimbal/gimbal.c **** }
 160              		.loc 1 64 1 view .LVU47
 161 008e 38BD     		pop	{r3, r4, r5, pc}
 162              	.L9:
 163              		.align	2
 164              	.L8:
 165 0090 00000000 		.word	gimba_IMU_data
 166 0094 00000000 		.word	gimbal_config
 167 0098 00000000 		.word	yaw_motor
 168 009c 00000000 		.word	pitch_xmmotor
 169 00a0 00000000 		.word	mini_yaw_motor
 170 00a4 00000000 		.word	pitch_motor
 171 00a8 00000000 		.word	.LC0
 172 00ac 00000000 		.word	gimbal_pub
 173 00b0 0C000000 		.word	.LC1
 174 00b4 00000000 		.word	gimbal_sub
 175              		.cfi_endproc
 176              	.LFE271:
 178              		.section	.text.GimbalTask,"ax",%progbits
 179              		.align	1
 180              		.global	GimbalTask
 181              		.syntax unified
 182              		.thumb
 183              		.thumb_func
 185              	GimbalTask:
 186              	.LFB272:
  65:application/gimbal/gimbal.c **** 
  66:application/gimbal/gimbal.c **** /* æœºå™¨äººäº‘å°æŽ§åˆ¶æ ¸å¿ƒä»»åŠ¡,åŽç»­è€ƒè™‘åªä¿ç•™IMUæŽ§åˆ¶,ä¸å†éœ€è¦ç”µæœºçš„åé¦ˆ */
  67:application/gimbal/gimbal.c **** void GimbalTask()
  68:application/gimbal/gimbal.c **** {
 187              		.loc 1 68 1 is_stmt 1 view -0
 188              		.cfi_startproc
 189              		@ args = 0, pretend = 0, frame = 0
 190              		@ frame_needed = 0, uses_anonymous_args = 0
 191 0000 38B5     		push	{r3, r4, r5, lr}
 192              	.LCFI1:
 193              		.cfi_def_cfa_offset 16
 194              		.cfi_offset 3, -16
 195              		.cfi_offset 4, -12
 196              		.cfi_offset 5, -8
 197              		.cfi_offset 14, -4
  69:application/gimbal/gimbal.c ****     // èŽ·å–äº‘å°æŽ§åˆ¶æ•°æ®
  70:application/gimbal/gimbal.c ****     // åŽç»­å¢žåŠ æœªæ”¶åˆ°æ•°æ®çš„å¤„ç†
  71:application/gimbal/gimbal.c ****     SubGetMessage(gimbal_sub, &gimbal_cmd_recv);
 198              		.loc 1 71 5 view .LVU49
 199 0002 4E4C     		ldr	r4, .L23
 200 0004 2146     		mov	r1, r4
 201 0006 4E4B     		ldr	r3, .L23+4
 202 0008 1868     		ldr	r0, [r3]
 203 000a FFF7FEFF 		bl	SubGetMessage
 204              	.LVL8:
  72:application/gimbal/gimbal.c **** 
  73:application/gimbal/gimbal.c ****     // æ ¹æ®æŽ§åˆ¶æ¨¡å¼è¿›è¡Œç”µæœºåé¦ˆåˆ‡æ¢å’Œè¿‡æ¸¡,è§†è§‰æ¨¡å¼åœ¨robot_cmdæ¨¡å—å°±å·²ç»è
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 6


  74:application/gimbal/gimbal.c ****     switch (gimbal_cmd_recv.gimbal_mode)
 205              		.loc 1 74 5 view .LVU50
 206              		.loc 1 74 28 is_stmt 0 view .LVU51
 207 000e 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 208              		.loc 1 74 5 view .LVU52
 209 0010 F3B1     		cbz	r3, .L11
 210 0012 012B     		cmp	r3, #1
 211 0014 3CD0     		beq	.L12
 212              	.L13:
  75:application/gimbal/gimbal.c ****     {
  76:application/gimbal/gimbal.c ****     // åœæ­¢
  77:application/gimbal/gimbal.c ****     case GIMBAL_ZERO_FORCE:
  78:application/gimbal/gimbal.c ****         DJIMotorStop(yaw_motor);
  79:application/gimbal/gimbal.c **** 
  80:application/gimbal/gimbal.c ****         if (gimbal_config->gimbal_type == MINI_GIMBAL)
  81:application/gimbal/gimbal.c ****             DJIMotorStop(mini_yaw_motor);
  82:application/gimbal/gimbal.c **** 
  83:application/gimbal/gimbal.c ****         switch (gimbal_config->pitch_motor_config.motor_type)
  84:application/gimbal/gimbal.c ****         {
  85:application/gimbal/gimbal.c ****         case GM6020:
  86:application/gimbal/gimbal.c ****             DJIMotorStop(pitch_motor);
  87:application/gimbal/gimbal.c ****             break;
  88:application/gimbal/gimbal.c ****         case XMCY:
  89:application/gimbal/gimbal.c ****             XMMotorStop(pitch_xmmotor);
  90:application/gimbal/gimbal.c ****             break;
  91:application/gimbal/gimbal.c ****         default:
  92:application/gimbal/gimbal.c ****             break;
  93:application/gimbal/gimbal.c ****         }
  94:application/gimbal/gimbal.c ****         break;
  95:application/gimbal/gimbal.c ****     // ä½¿ç”¨é™€èžºä»ªçš„åé¦ˆ,åº•ç›˜æ ¹æ®yawç”µæœºçš„offsetè·Ÿéšäº‘å°æˆ–è§†è§‰æ¨¡å¼é‡‡ç”¨
  96:application/gimbal/gimbal.c ****     case GIMBAL_GYRO_MODE: 
  97:application/gimbal/gimbal.c ****         DJIMotorEnable(yaw_motor);
  98:application/gimbal/gimbal.c ****         DJIMotorChangeFeed(yaw_motor, ANGLE_LOOP, OTHER_FEED);
  99:application/gimbal/gimbal.c ****         DJIMotorChangeFeed(yaw_motor, SPEED_LOOP, OTHER_FEED);
 100:application/gimbal/gimbal.c ****         DJIMotorSetRef(yaw_motor, gimbal_cmd_recv.yaw); // yawå’Œpitchä¼šåœ¨robot_cmdä¸­å¤„ç†å¥½å¤
 101:application/gimbal/gimbal.c **** 
 102:application/gimbal/gimbal.c ****         if (gimbal_config->gimbal_type == MINI_GIMBAL)
 103:application/gimbal/gimbal.c ****         {
 104:application/gimbal/gimbal.c ****             DJIMotorEnable(mini_yaw_motor);
 105:application/gimbal/gimbal.c ****             DJIMotorSetRef(mini_yaw_motor, gimbal_cmd_recv.mini_yaw); 
 106:application/gimbal/gimbal.c ****         }
 107:application/gimbal/gimbal.c ****     
 108:application/gimbal/gimbal.c ****         switch (gimbal_config->pitch_motor_config.motor_type)
 109:application/gimbal/gimbal.c ****         {
 110:application/gimbal/gimbal.c ****         case GM6020:
 111:application/gimbal/gimbal.c ****             DJIMotorEnable(pitch_motor);
 112:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(pitch_motor, ANGLE_LOOP, OTHER_FEED);
 113:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(pitch_motor, SPEED_LOOP, OTHER_FEED);
 114:application/gimbal/gimbal.c ****             DJIMotorSetRef(pitch_motor, gimbal_cmd_recv.pitch);
 115:application/gimbal/gimbal.c ****             break;
 116:application/gimbal/gimbal.c ****         case XMCY:
 117:application/gimbal/gimbal.c ****             XMMotorEnable(pitch_xmmotor);
 118:application/gimbal/gimbal.c ****             XMMotorChangeFeed(pitch_xmmotor, ANGLE_LOOP, OTHER_FEED);
 119:application/gimbal/gimbal.c ****             XMMotorChangeFeed(pitch_xmmotor, SPEED_LOOP, OTHER_FEED);
 120:application/gimbal/gimbal.c ****             XMMotorSetRef(pitch_xmmotor, gimbal_cmd_recv.pitch);
 121:application/gimbal/gimbal.c ****             break;
 122:application/gimbal/gimbal.c ****         default:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 7


 123:application/gimbal/gimbal.c ****             break;
 124:application/gimbal/gimbal.c ****         }
 125:application/gimbal/gimbal.c ****         break;
 126:application/gimbal/gimbal.c ****     default:
 127:application/gimbal/gimbal.c ****         break;
 128:application/gimbal/gimbal.c ****     }
 129:application/gimbal/gimbal.c ****     
 130:application/gimbal/gimbal.c ****     // åœ¨åˆé€‚çš„åœ°æ–¹æ·»åŠ pitché‡åŠ›è¡¥å¿å‰é¦ˆåŠ›çŸ©
 131:application/gimbal/gimbal.c ****     // æ ¹æ®IMUå§¿æ€/pitchç”µæœºè§’åº¦åé¦ˆè®¡ç®—å‡ºå½“å‰é…é‡ä¸‹çš„é‡åŠ›çŸ©
 132:application/gimbal/gimbal.c ****     // ...
 133:application/gimbal/gimbal.c **** 
 134:application/gimbal/gimbal.c ****     // è®¾ç½®åé¦ˆæ•°æ®,ä¸»è¦æ˜¯imuå’Œyawçš„ecd,è¿˜æœ‰äº‘å°ç”µæœºçŠ¶æ€
 135:application/gimbal/gimbal.c ****     gimbal_feedback_data.gimbal_imu_data = *gimba_IMU_data;
 213              		.loc 1 135 5 is_stmt 1 view .LVU53
 214              		.loc 1 135 42 is_stmt 0 view .LVU54
 215 0016 4B4D     		ldr	r5, .L23+8
 216 0018 AC46     		mov	ip, r5
 217 001a 4B4B     		ldr	r3, .L23+12
 218 001c 1C68     		ldr	r4, [r3]
 219 001e 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 220 0020 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 221 0024 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 222 0026 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 223 002a 94E80300 		ldm	r4, {r0, r1}
 224 002e 8CE80300 		stm	ip, {r0, r1}
 136:application/gimbal/gimbal.c ****     gimbal_feedback_data.yaw_motor_single_round_angle = yaw_motor->measure.angle_single_round;
 225              		.loc 1 136 5 is_stmt 1 view .LVU55
 226              		.loc 1 136 66 is_stmt 0 view .LVU56
 227 0032 464B     		ldr	r3, .L23+16
 228 0034 1B68     		ldr	r3, [r3]
 229              		.loc 1 136 75 view .LVU57
 230 0036 D3ED017A 		vldr.32	s15, [r3, #4]
 231              		.loc 1 136 55 view .LVU58
 232 003a FCEEE77A 		vcvt.u32.f32	s15, s15
 233 003e 17EE903A 		vmov	r3, s15	@ int
 234 0042 2B85     		strh	r3, [r5, #40]	@ movhi
 137:application/gimbal/gimbal.c **** 
 138:application/gimbal/gimbal.c ****     // æ ¹æ®ç”µæœºçŠ¶æ€åé¦ˆæ˜¯å¦ç¦»çº¿
 139:application/gimbal/gimbal.c ****     // DJIMotorIsOnline(yaw_motor);
 140:application/gimbal/gimbal.c ****     // DJIMotorIsOnline(pitch_motor);
 141:application/gimbal/gimbal.c ****     // // åé¦ˆç”µæœºç¦»çº¿æ•°é‡
 142:application/gimbal/gimbal.c ****     // if (yaw_motor->online_flag == MOTOR_OFFLINE || pitch_motor->online_flag == MOTOR_OFFLINE)
 143:application/gimbal/gimbal.c ****     // {
 144:application/gimbal/gimbal.c ****     //     gimbal_feedback_data.motor_offline_count = 1;
 145:application/gimbal/gimbal.c ****     //     gimbal_feedback_data.motor_state = GIMBAL_MOTOR_OFFLINE;
 146:application/gimbal/gimbal.c ****     // }
 147:application/gimbal/gimbal.c ****     // else if(yaw_motor->online_flag == MOTOR_OFFLINE && pitch_motor->online_flag == MOTOR_OFFLINE
 148:application/gimbal/gimbal.c ****     // {
 149:application/gimbal/gimbal.c ****     //     gimbal_feedback_data.motor_offline_count = 2;
 150:application/gimbal/gimbal.c ****     //     gimbal_feedback_data.motor_state = GIMBAL_MOTOR_OFFLINE;
 151:application/gimbal/gimbal.c ****     // }
 152:application/gimbal/gimbal.c ****     // else 
 153:application/gimbal/gimbal.c ****     // {
 154:application/gimbal/gimbal.c ****     //     gimbal_feedback_data.motor_offline_count = 0;
 155:application/gimbal/gimbal.c ****     //     gimbal_feedback_data.motor_state = GIMBAL_MOTOR_ONLINE;
 156:application/gimbal/gimbal.c ****     // }
 157:application/gimbal/gimbal.c **** 
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 8


 158:application/gimbal/gimbal.c ****     // æŽ¨é€æ¶ˆæ¯
 159:application/gimbal/gimbal.c ****     PubPushMessage(gimbal_pub, (void *)&gimbal_feedback_data);
 235              		.loc 1 159 5 is_stmt 1 view .LVU59
 236 0044 2946     		mov	r1, r5
 237 0046 424B     		ldr	r3, .L23+20
 238 0048 1868     		ldr	r0, [r3]
 239 004a FFF7FEFF 		bl	PubPushMessage
 240              	.LVL9:
 160:application/gimbal/gimbal.c **** }...
 241              		.loc 1 160 1 is_stmt 0 view .LVU60
 242 004e 38BD     		pop	{r3, r4, r5, pc}
 243              	.L11:
  78:application/gimbal/gimbal.c ****         DJIMotorStop(yaw_motor);
 244              		.loc 1 78 9 is_stmt 1 view .LVU61
 245 0050 3E4B     		ldr	r3, .L23+16
 246 0052 1868     		ldr	r0, [r3]
 247 0054 FFF7FEFF 		bl	DJIMotorStop
 248              	.LVL10:
  80:application/gimbal/gimbal.c ****         if (gimbal_config->gimbal_type == MINI_GIMBAL)
 249              		.loc 1 80 9 view .LVU62
  80:application/gimbal/gimbal.c ****         if (gimbal_config->gimbal_type == MINI_GIMBAL)
 250              		.loc 1 80 26 is_stmt 0 view .LVU63
 251 0058 3E4B     		ldr	r3, .L23+24
 252 005a 1B68     		ldr	r3, [r3]
 253 005c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  80:application/gimbal/gimbal.c ****         if (gimbal_config->gimbal_type == MINI_GIMBAL)
 254              		.loc 1 80 12 view .LVU64
 255 005e 012B     		cmp	r3, #1
 256 0060 0CD0     		beq	.L21
 257              	.L14:
  83:application/gimbal/gimbal.c ****         switch (gimbal_config->pitch_motor_config.motor_type)
 258              		.loc 1 83 9 is_stmt 1 view .LVU65
  83:application/gimbal/gimbal.c ****         switch (gimbal_config->pitch_motor_config.motor_type)
 259              		.loc 1 83 30 is_stmt 0 view .LVU66
 260 0062 3C4B     		ldr	r3, .L23+24
 261 0064 1B68     		ldr	r3, [r3]
  83:application/gimbal/gimbal.c ****         switch (gimbal_config->pitch_motor_config.motor_type)
 262              		.loc 1 83 50 view .LVU67
 263 0066 93F82832 		ldrb	r3, [r3, #552]	@ zero_extendqisi2
  83:application/gimbal/gimbal.c ****         switch (gimbal_config->pitch_motor_config.motor_type)
 264              		.loc 1 83 9 view .LVU68
 265 006a 012B     		cmp	r3, #1
 266 006c 0BD0     		beq	.L15
 267 006e 072B     		cmp	r3, #7
 268 0070 D1D1     		bne	.L13
  89:application/gimbal/gimbal.c ****             XMMotorStop(pitch_xmmotor);
 269              		.loc 1 89 13 is_stmt 1 view .LVU69
 270 0072 394B     		ldr	r3, .L23+28
 271 0074 1868     		ldr	r0, [r3]
 272 0076 FFF7FEFF 		bl	XMMotorStop
 273              	.LVL11:
  90:application/gimbal/gimbal.c ****             break;
 274              		.loc 1 90 13 view .LVU70
 275 007a CCE7     		b	.L13
 276              	.L21:
  81:application/gimbal/gimbal.c ****             DJIMotorStop(mini_yaw_motor);
 277              		.loc 1 81 13 view .LVU71
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 9


 278 007c 374B     		ldr	r3, .L23+32
 279 007e 1868     		ldr	r0, [r3]
 280 0080 FFF7FEFF 		bl	DJIMotorStop
 281              	.LVL12:
 282 0084 EDE7     		b	.L14
 283              	.L15:
  86:application/gimbal/gimbal.c ****             DJIMotorStop(pitch_motor);
 284              		.loc 1 86 13 view .LVU72
 285 0086 364B     		ldr	r3, .L23+36
 286 0088 1868     		ldr	r0, [r3]
 287 008a FFF7FEFF 		bl	DJIMotorStop
 288              	.LVL13:
  87:application/gimbal/gimbal.c ****             break;
 289              		.loc 1 87 13 view .LVU73
 290 008e C2E7     		b	.L13
 291              	.L12:
  97:application/gimbal/gimbal.c ****         DJIMotorEnable(yaw_motor);
 292              		.loc 1 97 9 view .LVU74
 293 0090 2E4C     		ldr	r4, .L23+16
 294 0092 2068     		ldr	r0, [r4]
 295 0094 FFF7FEFF 		bl	DJIMotorEnable
 296              	.LVL14:
  98:application/gimbal/gimbal.c ****         DJIMotorChangeFeed(yaw_motor, ANGLE_LOOP, OTHER_FEED);
 297              		.loc 1 98 9 view .LVU75
 298 0098 0122     		movs	r2, #1
 299 009a 0421     		movs	r1, #4
 300 009c 2068     		ldr	r0, [r4]
 301 009e FFF7FEFF 		bl	DJIMotorChangeFeed
 302              	.LVL15:
  99:application/gimbal/gimbal.c ****         DJIMotorChangeFeed(yaw_motor, SPEED_LOOP, OTHER_FEED);
 303              		.loc 1 99 9 view .LVU76
 304 00a2 0122     		movs	r2, #1
 305 00a4 0221     		movs	r1, #2
 306 00a6 2068     		ldr	r0, [r4]
 307 00a8 FFF7FEFF 		bl	DJIMotorChangeFeed
 308              	.LVL16:
 100:application/gimbal/gimbal.c ****         DJIMotorSetRef(yaw_motor, gimbal_cmd_recv.yaw); // yawå’Œpitchä¼šåœ¨robot_cmdä¸­å¤„ç†å¥½å¤
 309              		.loc 1 100 9 view .LVU77
 310 00ac 234B     		ldr	r3, .L23
 311 00ae 93ED010A 		vldr.32	s0, [r3, #4]
 312 00b2 2068     		ldr	r0, [r4]
 313 00b4 FFF7FEFF 		bl	DJIMotorSetRef
 314              	.LVL17:
 102:application/gimbal/gimbal.c ****         if (gimbal_config->gimbal_type == MINI_GIMBAL)
 315              		.loc 1 102 9 view .LVU78
 102:application/gimbal/gimbal.c ****         if (gimbal_config->gimbal_type == MINI_GIMBAL)
 316              		.loc 1 102 26 is_stmt 0 view .LVU79
 317 00b8 264B     		ldr	r3, .L23+24
 318 00ba 1B68     		ldr	r3, [r3]
 319 00bc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 102:application/gimbal/gimbal.c ****         if (gimbal_config->gimbal_type == MINI_GIMBAL)
 320              		.loc 1 102 12 view .LVU80
 321 00be 012B     		cmp	r3, #1
 322 00c0 1CD0     		beq	.L22
 323              	.L17:
 108:application/gimbal/gimbal.c ****         switch (gimbal_config->pitch_motor_config.motor_type)
 324              		.loc 1 108 9 is_stmt 1 view .LVU81
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 10


 108:application/gimbal/gimbal.c ****         switch (gimbal_config->pitch_motor_config.motor_type)
 325              		.loc 1 108 30 is_stmt 0 view .LVU82
 326 00c2 244B     		ldr	r3, .L23+24
 327 00c4 1B68     		ldr	r3, [r3]
 108:application/gimbal/gimbal.c ****         switch (gimbal_config->pitch_motor_config.motor_type)
 328              		.loc 1 108 50 view .LVU83
 329 00c6 93F82832 		ldrb	r3, [r3, #552]	@ zero_extendqisi2
 108:application/gimbal/gimbal.c ****         switch (gimbal_config->pitch_motor_config.motor_type)
 330              		.loc 1 108 9 view .LVU84
 331 00ca 012B     		cmp	r3, #1
 332 00cc 21D0     		beq	.L18
 333 00ce 072B     		cmp	r3, #7
 334 00d0 A1D1     		bne	.L13
 117:application/gimbal/gimbal.c ****             XMMotorEnable(pitch_xmmotor);
 335              		.loc 1 117 13 is_stmt 1 view .LVU85
 336 00d2 214C     		ldr	r4, .L23+28
 337 00d4 2068     		ldr	r0, [r4]
 338 00d6 FFF7FEFF 		bl	XMMotorEnable
 339              	.LVL18:
 118:application/gimbal/gimbal.c ****             XMMotorChangeFeed(pitch_xmmotor, ANGLE_LOOP, OTHER_FEED);
 340              		.loc 1 118 13 view .LVU86
 341 00da 0122     		movs	r2, #1
 342 00dc 0421     		movs	r1, #4
 343 00de 2068     		ldr	r0, [r4]
 344 00e0 FFF7FEFF 		bl	XMMotorChangeFeed
 345              	.LVL19:
 119:application/gimbal/gimbal.c ****             XMMotorChangeFeed(pitch_xmmotor, SPEED_LOOP, OTHER_FEED);
 346              		.loc 1 119 13 view .LVU87
 347 00e4 0122     		movs	r2, #1
 348 00e6 0221     		movs	r1, #2
 349 00e8 2068     		ldr	r0, [r4]
 350 00ea FFF7FEFF 		bl	XMMotorChangeFeed
 351              	.LVL20:
 120:application/gimbal/gimbal.c ****             XMMotorSetRef(pitch_xmmotor, gimbal_cmd_recv.pitch);
 352              		.loc 1 120 13 view .LVU88
 353 00ee 134B     		ldr	r3, .L23
 354 00f0 93ED020A 		vldr.32	s0, [r3, #8]
 355 00f4 2068     		ldr	r0, [r4]
 356 00f6 FFF7FEFF 		bl	XMMotorSetRef
 357              	.LVL21:
 121:application/gimbal/gimbal.c ****             break;
 358              		.loc 1 121 13 view .LVU89
 359 00fa 8CE7     		b	.L13
 360              	.L22:
 104:application/gimbal/gimbal.c ****             DJIMotorEnable(mini_yaw_motor);
 361              		.loc 1 104 13 view .LVU90
 362 00fc 174C     		ldr	r4, .L23+32
 363 00fe 2068     		ldr	r0, [r4]
 364 0100 FFF7FEFF 		bl	DJIMotorEnable
 365              	.LVL22:
 105:application/gimbal/gimbal.c ****             DJIMotorSetRef(mini_yaw_motor, gimbal_cmd_recv.mini_yaw); 
 366              		.loc 1 105 13 view .LVU91
 367 0104 0D4B     		ldr	r3, .L23
 368 0106 93ED000A 		vldr.32	s0, [r3]
 369 010a 2068     		ldr	r0, [r4]
 370 010c FFF7FEFF 		bl	DJIMotorSetRef
 371              	.LVL23:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 11


 372 0110 D7E7     		b	.L17
 373              	.L18:
 111:application/gimbal/gimbal.c ****             DJIMotorEnable(pitch_motor);
 374              		.loc 1 111 13 view .LVU92
 375 0112 134C     		ldr	r4, .L23+36
 376 0114 2068     		ldr	r0, [r4]
 377 0116 FFF7FEFF 		bl	DJIMotorEnable
 378              	.LVL24:
 112:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(pitch_motor, ANGLE_LOOP, OTHER_FEED);
 379              		.loc 1 112 13 view .LVU93
 380 011a 0122     		movs	r2, #1
 381 011c 0421     		movs	r1, #4
 382 011e 2068     		ldr	r0, [r4]
 383 0120 FFF7FEFF 		bl	DJIMotorChangeFeed
 384              	.LVL25:
 113:application/gimbal/gimbal.c ****             DJIMotorChangeFeed(pitch_motor, SPEED_LOOP, OTHER_FEED);
 385              		.loc 1 113 13 view .LVU94
 386 0124 0122     		movs	r2, #1
 387 0126 0221     		movs	r1, #2
 388 0128 2068     		ldr	r0, [r4]
 389 012a FFF7FEFF 		bl	DJIMotorChangeFeed
 390              	.LVL26:
 114:application/gimbal/gimbal.c ****             DJIMotorSetRef(pitch_motor, gimbal_cmd_recv.pitch);
 391              		.loc 1 114 13 view .LVU95
 392 012e 034B     		ldr	r3, .L23
 393 0130 93ED020A 		vldr.32	s0, [r3, #8]
 394 0134 2068     		ldr	r0, [r4]
 395 0136 FFF7FEFF 		bl	DJIMotorSetRef
 396              	.LVL27:
 115:application/gimbal/gimbal.c ****             break;
 397              		.loc 1 115 13 view .LVU96
 398 013a 6CE7     		b	.L13
 399              	.L24:
 400              		.align	2
 401              	.L23:
 402 013c 00000000 		.word	gimbal_cmd_recv
 403 0140 00000000 		.word	gimbal_sub
 404 0144 00000000 		.word	gimbal_feedback_data
 405 0148 00000000 		.word	gimba_IMU_data
 406 014c 00000000 		.word	yaw_motor
 407 0150 00000000 		.word	gimbal_pub
 408 0154 00000000 		.word	gimbal_config
 409 0158 00000000 		.word	pitch_xmmotor
 410 015c 00000000 		.word	mini_yaw_motor
 411 0160 00000000 		.word	pitch_motor
 412              		.cfi_endproc
 413              	.LFE272:
 415              		.section	.bss.gimbal_cmd_recv,"aw",%nobits
 416              		.align	2
 419              	gimbal_cmd_recv:
 420 0000 00000000 		.space	17
 420      00000000 
 420      00000000 
 420      00000000 
 420      00
 421              		.section	.bss.gimbal_feedback_data,"aw",%nobits
 422              		.align	2
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 12


 425              	gimbal_feedback_data:
 426 0000 00000000 		.space	44
 426      00000000 
 426      00000000 
 426      00000000 
 426      00000000 
 427              		.section	.bss.gimbal_sub,"aw",%nobits
 428              		.align	2
 431              	gimbal_sub:
 432 0000 00000000 		.space	4
 433              		.section	.bss.gimbal_pub,"aw",%nobits
 434              		.align	2
 437              	gimbal_pub:
 438 0000 00000000 		.space	4
 439              		.section	.bss.pitch_xmmotor,"aw",%nobits
 440              		.align	2
 443              	pitch_xmmotor:
 444 0000 00000000 		.space	4
 445              		.section	.bss.pitch_motor,"aw",%nobits
 446              		.align	2
 449              	pitch_motor:
 450 0000 00000000 		.space	4
 451              		.section	.bss.mini_yaw_motor,"aw",%nobits
 452              		.align	2
 455              	mini_yaw_motor:
 456 0000 00000000 		.space	4
 457              		.section	.bss.yaw_motor,"aw",%nobits
 458              		.align	2
 461              	yaw_motor:
 462 0000 00000000 		.space	4
 463              		.section	.bss.gimba_IMU_data,"aw",%nobits
 464              		.align	2
 467              	gimba_IMU_data:
 468 0000 00000000 		.space	4
 469              		.section	.bss.gimbal_config,"aw",%nobits
 470              		.align	2
 473              	gimbal_config:
 474 0000 00000000 		.space	4
 475              		.text
 476              	.Letext0:
 477              		.file 2 "D:/msys2/mingw64/arm-none-eabi/include/machine/_default_types.h"
 478              		.file 3 "D:/msys2/mingw64/arm-none-eabi/include/sys/_stdint.h"
 479              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 480              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 481              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 482              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 483              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 484              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 485              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 486              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 487              		.file 12 "modules/imu/ins_task.h"
 488              		.file 13 "bsp/can/bsp_can.h"
 489              		.file 14 "modules/algorithm/controller.h"
 490              		.file 15 "modules/motor/motor_def.h"
 491              		.file 16 "application/config/config.h"
 492              		.file 17 "application/robot_def.h"
 493              		.file 18 "modules/daemon/daemon.h"
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 13


 494              		.file 19 "modules/motor/DJImotor/dji_motor.h"
 495              		.file 20 "modules/motor/XMmotor/xmmotor.h"
 496              		.file 21 "modules/message_center/message_center.h"
 497              		.file 22 "bsp/spi/bsp_spi.h"
 498              		.file 23 "bsp/gpio/bsp_gpio.h"
 499              		.file 24 "bsp/pwm/bsp_pwm.h"
 500              		.file 25 "modules/BMI088/bmi088.h"
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 gimbal.c
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:21     .rodata.GimbalInit.str1.4:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:28     .text.GimbalInit:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:34     .text.GimbalInit:00000000 GimbalInit
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:165    .text.GimbalInit:00000090 $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:467    .bss.gimba_IMU_data:00000000 gimba_IMU_data
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:473    .bss.gimbal_config:00000000 gimbal_config
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:461    .bss.yaw_motor:00000000 yaw_motor
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:443    .bss.pitch_xmmotor:00000000 pitch_xmmotor
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:455    .bss.mini_yaw_motor:00000000 mini_yaw_motor
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:449    .bss.pitch_motor:00000000 pitch_motor
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:437    .bss.gimbal_pub:00000000 gimbal_pub
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:431    .bss.gimbal_sub:00000000 gimbal_sub
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:179    .text.GimbalTask:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:185    .text.GimbalTask:00000000 GimbalTask
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:402    .text.GimbalTask:0000013c $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:419    .bss.gimbal_cmd_recv:00000000 gimbal_cmd_recv
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:425    .bss.gimbal_feedback_data:00000000 gimbal_feedback_data
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:416    .bss.gimbal_cmd_recv:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:422    .bss.gimbal_feedback_data:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:428    .bss.gimbal_sub:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:434    .bss.gimbal_pub:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:440    .bss.pitch_xmmotor:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:446    .bss.pitch_motor:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:452    .bss.mini_yaw_motor:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:458    .bss.yaw_motor:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:464    .bss.gimba_IMU_data:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\ccBYpW03.s:470    .bss.gimbal_config:00000000 $d

UNDEFINED SYMBOLS
INS_Init
GimbalConfigFeed
DJIMotorInit
XMMotorInit
PubRegister
SubRegister
SubGetMessage
PubPushMessage
DJIMotorStop
XMMotorStop
DJIMotorEnable
DJIMotorChangeFeed
DJIMotorSetRef
XMMotorEnable
XMMotorChangeFeed
XMMotorSetRef
